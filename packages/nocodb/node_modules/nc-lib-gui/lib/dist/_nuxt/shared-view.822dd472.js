import{_ as x}from"./ViewIcon.vue.9fe867dc.js";import{h as y,S as b,g as V,k,b4 as C,o as i,C as c,w as l,b as r,a as o,E as t,y as B,d as u,t as d,c as f,aj as N,D as $,F as D,I as E,W as S,V as L,_ as I}from"./entry.51f4e399.js";import{u as M}from"./useSharedView.0db5f32b.js";import{_ as j}from"./256x256-trans.2cd7e00a.js";import{b as F,_ as G}from"./index.69bbd6c7.js";import"./useMetas.ba7abae7.js";import"./index.5263eb1d.js";import"./isNumeric.3f69e2aa.js";import"./RightOutlined.90e8180f.js";import"./LeftOutlined.3bb8aa17.js";const T=o("img",{width:"35",alt:"NocoDB",src:j},null,-1),z={class:"flex justify-center items-center"},H={class:"flex items-center gap-2 ml-3 text-white"},P={class:"text-white","data-testid":"nc-loading"},R={key:1,class:"text-xl font-semibold truncate text-white nc-shared-view-title flex gap-2 items-center"},W=o("div",{class:"flex-1"},null,-1),q={class:"w-full overflow-hidden",style:{height:"calc(100vh)"}},A={name:"SharedView"},se=y({...A,setup(J){const{isLoading:m,appInfo:h}=b(),{sharedView:a}=M(),w=V();return k(()=>{var s;if(window.parent!==window){const n=e=>window.parent.postMessage({event:"locationchange",payload:{value:e}},"*");w.afterEach(e=>n(location.origin+e.fullPath)),C(window,"beforeunload",()=>{const{href:e}=document.activeElement;e&&n(e)})}(s=a.value)!=null&&s.title?document.title=`${a.value.title}`:document.title="NocoDB"}),(s,n)=>{const e=I,g=x,v=F,_=G;return i(),c(_,{id:"nc-app"},{default:l(()=>[r(_,{class:"!flex-col bg-white"},{default:l(()=>[r(v,{class:"flex !bg-primary items-center text-white pl-3 pr-4 shadow-lg"},{default:l(()=>{var p;return[o("div",{class:"transition-all duration-200 p-2 cursor-pointer transform hover:scale-105",onClick:n[0]||(n[0]=K=>t(B)("/"))},[r(e,{placement:"bottom"},{title:l(()=>[u(d(t(h).version),1)]),default:l(()=>[T]),_:1})]),o("div",null,[o("div",z,[o("div",H,[t(m)?(i(),f(N,{key:0},[o("span",P,d(s.$t("general.loading")),1),(i(),c($(t(D).reload),{class:E({"animate-infinite animate-spin ":t(m)})},null,8,["class"]))],64)):(i(),f("div",R,[t(a)?(i(),c(g,{key:0,class:"!text-xl",meta:t(a)},null,8,["meta"])):S("",!0),u(" "+d((p=t(a))==null?void 0:p.title),1)]))])])]),W]}),_:1}),o("div",q,[L(s.$slots,"default")])]),_:3})]),_:3})}}});export{se as default};
