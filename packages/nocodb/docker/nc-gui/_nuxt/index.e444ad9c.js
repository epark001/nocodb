import{o as s,c as y,cB as ge,h as B,cb as N,E as e,b as t,w as i,d as S,t as L,a as p,I as R,T as he,S as E,r as I,aq as F,ap as ye,fk as xe,fl as be,C as j,H as z,J as ee,K as we,c1 as ke,i as T,V as Z,W as D,p as te,e as oe,cw as $e,aj as W,b5 as Se,M as je,N as Ie,cI as ne,aV as se,D as Ce,F as Te,fm as De,m as Q,fn as Ne,R as G,k as ae,y as re,fo as Be,Q as X,ac as Pe,g as Le,Z as Ve,c9 as Oe,c6 as ze}from"./entry.13466615.js";import{_ as Me}from"./256x256.b96b2477.js";import{_ as V}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as H}from"./Icon.vue.e15b8911.js";import{_ as J,a as Ue}from"./Button.vue.a83cab3b.js";import{_ as We}from"./Tooltip.vue.30df4de9.js";import{e as U,a as q,c as ce}from"./useMetas.223da623.js";import{u as le}from"./sidebar.42429978.js";import{_ as Y}from"./Input.2c73684e.js";import"./index.3e3f609f.js";import{_ as Re}from"./ProjectIcon.05001560.js";import{_ as Ee}from"./Modal.vue.7eba58e8.js";import{p as Ae}from"./validation.5ed31fc1.js";import"./index.a8ef1b7e.js";import{I as Fe}from"./Input.16966097.js";import{F as Ge}from"./index.6f605a00.js";import{_ as He}from"./FormItem.fe59dafe.js";import{u as Je}from"./index.e7cf7635.js";import{_ as qe}from"./index.1669d181.js";import{_ as Ke}from"./nuxt-link.d273ea3b.js";import{_ as Qe}from"./Dropdown.vue.be6ede75.js";import{u as Ze}from"./useCopy.a0671815.js";import{_ as Xe}from"./index.ff7d18e2.js";import{a as Ye}from"./index.5263eb1d.js";const et={},tt={class:"flex flex-row flex-grow pl-0.5 pr-1 py-0.5 rounded-md w-full",style:{"max-width":"calc(100% - 2.5rem)"}},ot=ge('<div class="flex-grow min-w-20" data-v-a87bdfcf><div data-testid="nc-workspace-menu" class="flex items-center nc-workspace-menu overflow-hidden py-1.25 pr-0.25 justify-center w-full" data-v-a87bdfcf><a class="w-10 min-w-10 transition-all duration-200 p-1 transform" href="https://github.com/nocodb/nocodb" target="_blank" data-v-a87bdfcf><img width="25" alt="NocoDB" src="'+Me+'" data-v-a87bdfcf></a><div class="font-semibold text-base" data-v-a87bdfcf>Nocodb</div><div class="flex flex-grow" data-v-a87bdfcf></div></div></div>',1),nt=[ot];function st(o,r){return s(),y("div",tt,nt)}const at=V(et,[["render",st],["__scopeId","data-v-a87bdfcf"]]),rt=["data-workspace-title"],ct={key:0,class:"flex flex-row items-center w-full"},lt=p("div",{class:"flex flex-grow min-w-1"},null,-1),it={class:"flex items-center text-inherit"},_t={key:1,class:"flex flex-row items-center w-full mt-0.25 ml-2.5 gap-x-3"},dt=B({__name:"Header",setup(o){const r=U(),c=q(),{isLeftSidebarOpen:a}=N(le());N(c);const{activeWorkspace:g,isWorkspaceLoading:d}=N(r);return(_,k)=>{var h;const m=at,n=H,u=J,$=We,x=Y;return s(),y("div",{class:"flex items-center px-2 nc-sidebar-header py-1.2 w-full border-b-1 border-gray-200 group","data-workspace-title":(h=e(g))==null?void 0:h.title,style:{height:"var(--topbar-height)"}},[e(d)?(s(),y("div",_t,[t(x,{active:!0,class:"!w-6 !h-6 !rounded overflow-hidden"}),t(x,{active:!0,class:"!w-40 !h-6 !rounded overflow-hidden"})])):(s(),y("div",ct,[t(m),lt,t($,{class:R(["flex opacity-0 group-hover:opacity-100 transition-opacity duration-50",{"!opacity-100":!e(a)}]),placement:"bottom","hide-on-click":""},{title:i(()=>[S(L(e(a)?`${_.$t("general.hide")} ${_.$t("objects.sidebar").toLowerCase()}`:`${_.$t("general.show")} ${_.$t("objects.sidebar").toLowerCase()}`),1)]),default:i(()=>[t(u,{type:"text",size:"small",class:"nc-sidebar-left-toggle-icon !text-gray-700 !hover:text-gray-800 !hover:bg-gray-200",onClick:k[0]||(k[0]=f=>a.value=!e(a))},{default:i(()=>[p("div",it,[t(n,{icon:"doubleLeftArrow",class:R(["duration-150 transition-all !text-lg -mt-0.5",{"transform rotate-180":!e(a)}])},null,8,["class"])])]),_:1})]),_:1},8,["class"])]))],8,rt)}}}),ut={};function pt(o,r){return null}const mt=V(ut,[["render",pt]]),ft={class:"flex flex-row items-center"},vt={class:"mt-3"},gt={class:"flex flex-row justify-end mt-7 gap-x-2"},ht=B({__name:"CreateProjectDlg",props:{modelValue:{type:Boolean},type:{}},emits:["update:modelValue"],setup(o,{emit:r}){const c=o,a=he(c,"modelValue",r),g=ce(),{loadProjects:d,createProject:_}=g,{navigateToProject:k}=E(),m=[{required:!0,message:"Database name is required"},Ae],n=I(),u=I({title:""}),$=I(!1),x=async()=>{$.value=!0;try{const l=await _({type:c.type,title:u.value.title});k({projectId:l.id,type:c.type,workspaceId:"nc"}),a.value=!1}catch(l){ee.error(await we(l))}finally{setTimeout(()=>{$.value=!1},500)}},h=I();F(a,async(l,v)=>{l===v&&!l||setTimeout(async()=>{var C,b,O,w,P;(C=n.value)==null||C.resetFields(),u.value={title:"Untitled Database"},await ye(),(O=(b=h.value)==null?void 0:b.$el)==null||O.focus(),(P=(w=h.value)==null?void 0:w.$el)==null||P.select()},5)});const f=xe(()=>{switch(c.type){case be.DB:default:return"Database"}});return(l,v)=>{const C=Re,b=Fe,O=He,w=Ge,P=J,K=Ee;return s(),j(K,{visible:e(a),"onUpdate:visible":v[2]||(v[2]=M=>z(a)?a.value=M:null),size:"small"},{header:i(()=>[p("div",ft,[t(C,{type:c.type,class:"mr-2.5 !text-lg !h-4"},null,8,["type"]),S(" Create "+L(e(f)),1)])]),default:i(()=>[p("div",vt,[t(w,{ref_key:"form",ref:n,model:e(u),name:"basic",layout:"vertical",class:"w-full !mx-auto","no-style":"",autocomplete:"off",onFinish:x},{default:i(()=>[t(O,{name:"title",rules:m,class:"m-10"},{default:i(()=>[t(b,{ref_key:"input",ref:h,value:e(u).title,"onUpdate:value":v[0]||(v[0]=M=>e(u).title=M),name:"title",class:"nc-metadb-project-name nc-input-md",placeholder:"Title"},null,8,["value"])]),_:1})]),_:1},8,["model"]),p("div",gt,[t(P,{type:"secondary",onClick:v[1]||(v[1]=M=>a.value=!1)},{default:i(()=>[S("Cancel")]),_:1}),t(P,{"data-testid":"docs-create-proj-dlg-create-btn",loading:e($),type:"primary",label:`Create ${e(f)}`,"loading-label":`Creating ${e(f)}`,onClick:x},{loading:i(()=>[S(L(`Creating ${e(f)}`),1)]),default:i(()=>[S(L(`Create ${e(f)}`)+" ",1)]),_:1},8,["loading","label","loading-label"])])])]),_:1},8,["visible"])}}});const yt=V(ht,[["__scopeId","data-v-65fc6b3b"]]),ie=B({__name:"CreateProjectBtn",props:{activeWorkspaceId:{},modal:{type:Boolean},type:{},isOpen:{type:Boolean},size:{},centered:{type:Boolean}},setup(o){const r=o,{isUIAllowed:c}=Je(),{orgRoles:a,workspaceRoles:g}=ke(),d=q(),{isSharedBase:_}=N(d),k=U();N(k);const m=I(!1),n=T(()=>r.size||"small"),u=T(()=>r.centered??!0);return($,x)=>{const h=yt,f=J;return e(c)("projectCreate",!1,e(g)??e(a))&&!e(_)?(s(),j(f,{key:0,type:"text",size:e(n),centered:e(u),onClick:x[1]||(x[1]=l=>m.value=!0)},{default:i(()=>[Z($.$slots,"default"),t(h,{modelValue:e(m),"onUpdate:modelValue":x[0]||(x[0]=l=>z(m)?m.value=l:null)},null,8,["modelValue"])]),_:3},8,["size","centered"])):D("",!0)}}}),xt=o=>(te("data-v-f898c8ed"),o=o(),oe(),o),bt={key:0,class:"flex flex-col w-full gap-y-3.75 ml-3 mt-3.75"},wt={key:0,class:"flex flex-row items-center w-full gap-x-3"},kt={class:"flex flex-row items-center w-full gap-x-3"},$t={class:"flex flex-row items-center w-full gap-x-3"},St={key:1,class:"flex flex-col p-1 gap-y-0.5 mt-0.25"},jt={class:"flex items-center gap-2"},It=xt(()=>p("div",null,"Team & Settings",-1)),Ct={class:"gap-x-2 flex flex-row w-full items-center !font-normal"},Tt={class:"flex"},Dt=B({__name:"TopSection",setup(o){const r=U(),c=q(),{appInfo:a}=E(),{isWorkspaceLoading:g,isWorkspaceOwnerOrCreator:d,isWorkspaceSettingsPageOpened:_}=N(r),{navigateToWorkspaceSettings:k}=r,{isSharedBase:m}=N(c),n=I(!1),u=()=>{k()};return($,x)=>{const h=Y,f=mt,l=H,v=J,C=ie;return e(g)?(s(),y("div",bt,[e(a).ee?(s(),y("div",wt,[t(h,{active:!0,class:"!w-4 !h-4 !rounded overflow-hidden"}),t(h,{active:!0,class:"!w-40 !h-4 !rounded overflow-hidden"})])):D("",!0),p("div",kt,[t(h,{active:!0,class:"!w-4 !h-4 !rounded overflow-hidden"}),t(h,{active:!0,class:"!w-40 !h-4 !rounded overflow-hidden"})]),p("div",$t,[t(h,{active:!0,class:"!w-4 !h-4 !rounded overflow-hidden"}),t(h,{active:!0,class:"!w-40 !h-4 !rounded overflow-hidden"})])])):e(m)?D("",!0):(s(),y("div",St,[t(f),e(d)?(s(),j(v,{key:0,type:"text",size:"small",class:R(["nc-sidebar-top-button",{"!text-brand-500 !bg-brand-50 !hover:bg-brand-50":e(_),"!hover:bg-gray-200":!e(_)}]),"data-testid":"nc-sidebar-team-settings-btn",centered:!1,onClick:u},{default:i(()=>[p("div",jt,[t(l,{icon:"settings",class:"!h-4"}),It])]),_:1},8,["class"])):D("",!0),t(C,{"is-open":e(n),"onUpdate:isOpen":x[0]||(x[0]=b=>z(n)?n.value=b:null),modal:"",type:"text",class:"nc-sidebar-top-button !hover:bg-gray-200","data-testid":"nc-sidebar-create-project-btn"},{default:i(()=>[p("div",Ct,[t(l,{icon:"plus"}),p("div",Tt,L($.$t("title.newProj")),1)])]),_:1},8,["is-open"])]))}}});const Nt=V(Dt,[["__scopeId","data-v-f898c8ed"]]),Bt=B({__name:"UserIcon",props:{hideLabel:{type:Boolean},size:{}},setup(o){const r=o,{user:c}=E(),a=T(()=>{var n,u;return(n=c.value)!=null&&n.id?$e((u=c.value)==null?void 0:u.id):"#FFFFFF"}),g=T(()=>r.size||"medium"),d=T(()=>{var n;return((n=c.value)==null?void 0:n.firstname)??""}),_=T(()=>{var n;return((n=c.value)==null?void 0:n.lastname)??""}),k=T(()=>{var n;return((n=c.value)==null?void 0:n.email)??""}),m=T(()=>d.value&&_.value?d.value[0]+_.value[0]:d.value?d.value[0]+(d.value.length>1?d.value[1]:""):_.value?_.value[0]+(_.value.length>1?_.value[1]:""):k.value[0]+k.value[1]);return(n,u)=>(s(),y("div",{class:R(["flex nc-user-avatar",{"min-w-4 min-h-4":e(g)==="small","min-w-6 min-h-6":e(g)==="medium"}]),style:Se({backgroundColor:e(a)})},[r.hideLabel?D("",!0):(s(),y(W,{key:0},[S(L(e(m)),1)],64))],6))}});const Pt=V(Bt,[["__scopeId","data-v-4fa2038d"]]);const Lt={},Vt={class:"nc-menu-item-inner"};function Ot(o,r){const c=je;return s(),j(c,{class:"nc-menu-item"},{default:i(()=>[p("div",Vt,[Z(o.$slots,"default")])]),_:3})}const zt=V(Lt,[["render",Ot]]);const Mt={};function Ut(o,r){const c=qe;return s(),j(c,{class:"nc-divider"})}const Wt=V(Mt,[["render",Ut]]),Rt=B({__name:"Menu",props:{selectable:{type:Boolean}},setup(o){const r=o,c=T(()=>r.selectable??!1);return(a,g)=>{const d=Ie;return s(),j(d,{class:"nc-menu",selectable:e(c)},{default:i(()=>[Z(a.$slots,"default")]),_:3},8,["selectable"])}}});const Et={class:"flex justify-center mx-2 rounded-lg items-center space-x-1 w-full cursor-pointer pl-3 py-1.5 !text-current !no-underline !hover:text-primary !hover:bg-primary !hover:bg-opacity-5",href:"https://docs.google.com/forms/d/e/1FAIpQLSfKLe8Rcrq0uo2_jM5W1kbVBbzDiQ3IvlP8Iov61FTekVAvzA/viewform?usp=pp_url",target:"_blank"},At=B({__name:"JoinCloud",setup(o){return(r,c)=>{const a=ne("e");return se((s(),y("a",Et,[(s(),j(Ce(e(Te).cloud),{class:"mr-1"})),S(" Join NocoDB Cloud ")])),[[a,["c:navbar:join-cloud"]]])}}}),Ft=B({name:"github-button",props:{href:String,ariaLabel:String,title:String,dataIcon:String,dataColorScheme:String,dataSize:String,dataShowCount:String,dataText:String},render:function(){const o={ref:"_"};for(const r in this.$props)o[De(r)]=this.$props[r];return Q("span",[Ne(this.$slots,"default")?Q("a",o,this.$slots.default()):Q("a",o)])},mounted:function(){this.paint()},beforeUpdate:function(){this.reset()},updated:function(){this.paint()},beforeUnmount:function(){this.reset()},methods:{paint:function(){const o=this.$el.appendChild(document.createElement("span")),r=this;G(()=>import("./buttons.esm.48f94bc9.js"),[],import.meta.url).then(function(c){c.render(o.appendChild(r.$refs._),function(a){try{o.parentNode.replaceChild(a,o)}catch{}})})},reset:function(){this.$el.replaceChild(this.$refs._,this.$el.lastChild)}}}),Gt=X(()=>G(()=>import("./Menu.9d0fa2ae.js"),["./Menu.9d0fa2ae.js","./Menu.vue.d5e62d3f.js","./entry.13466615.js","./entry.0f786d51.css"],import.meta.url).then(o=>o.default||o)),_e=o=>(te("data-v-27b5ea42"),o=o(),oe(),o),Ht={class:"flex w-full flex-col p-1 border-t-1 border-gray-200 gap-y-2"},Jt={class:"flex flex-row py-2 px-3 gap-x-2 items-center hover:bg-gray-200 rounded-lg cursor-pointer h-10","data-testid":"nc-sidebar-userinfo"},qt={class:"flex truncate"},Kt={href:"https://docs.nocodb.com",target:"_blank",class:"!underline-transparent"},Qt={href:"https://discord.gg/5RgZmkW",target:"_blank",class:"!underline-transparent"},Zt={href:"https://www.reddit.com/r/NocoDB",target:"_blank",class:"!underline-transparent"},Xt={href:"https://twitter.com/nocodb",target:"_blank",class:"!underline-transparent"},Yt=_e(()=>p("div",{class:"flex items-center text-gray-400 text-xs"},"(Community Translated)",-1)),eo=_e(()=>p("div",{class:"flex-1"},null,-1)),to={class:"bg-white max-h-50vh scrollbar-thin-dull min-w-50 !overflow-auto"},oo={key:0,class:"text-gray-500 text-xs pl-3"},no={key:1,class:"flex flex-col gap-y-1 pt-1"},so={class:"flex items-start flex-row justify-center px-2 gap-2"},ao={class:"flex items-start flex-row justify-center gap-2"},ro=B({__name:"UserInfo",setup(o){const{user:r,signOut:c,token:a,appInfo:g}=E(),{clearWorkspaces:d}=U(),{leftSidebarState:_}=N(le()),{copy:k}=Ze(!0),m=T(()=>{var l,v;return`${((l=r.value)==null?void 0:l.firstname)??""} ${((v=r.value)==null?void 0:v.lastname)??""}`.trim()}),n=I(!1),u=I(!1),$=I(!1),x=async()=>{$.value=!0;try{await c(!1),await d(),await re("/signin")}catch(l){console.error(l)}finally{$.value=!1}},h=async()=>{try{await k(a.value),u.value=!0}catch(l){console.error(l),ee.error(l.message)}};F(n,()=>{u.value&&(u.value=!1)}),F(_,()=>{_.value==="peekCloseEnd"&&(n.value=!1)});const f=I(!1);return ae(()=>{f.value=!0}),(l,v)=>{const C=Pt,b=H,O=Ue,w=zt,P=Wt,K=Be,M=Gt,de=Xe,ue=Ke,pe=Rt,me=Qe,fe=At,ve=ne("e");return s(),y("div",Ht,[t(me,{visible:e(n),"onUpdate:visible":v[0]||(v[0]=A=>z(n)?n.value=A:null),placement:"topLeft","overlay-class-name":"!min-w-64"},{overlay:i(()=>[t(pe,null,{default:i(()=>[t(w,{"data-testid":"nc-sidebar-user-logout",onClick:x},{default:i(()=>[e($)?(s(),j(O,{key:0,class:"!ml-0.5 !mr-0.5 !max-h-4.5 !-mt-0.5"})):(s(),j(b,{key:1,icon:"signout",class:"menu-icon"})),S(" Log Out")]),_:1}),t(P),p("a",Kt,[t(w,null,{default:i(()=>[t(b,{icon:"help",class:"menu-icon"}),S(" Help Center")]),_:1})]),t(P),p("a",Qt,[t(w,{class:"social-icon-wrapper"},{default:i(()=>[t(b,{class:"social-icon",icon:"discord"}),S("Join our Discord")]),_:1})]),p("a",Zt,[t(w,{class:"social-icon-wrapper"},{default:i(()=>[t(b,{class:"social-icon",icon:"reddit"}),S("/r/NocoDB")]),_:1})]),p("a",Xt,[t(w,{class:"social-icon-wrapper group"},{default:i(()=>[t(b,{class:"text-gray-500 group-hover:text-gray-800",icon:"twitter"}),S("Twitter")]),_:1})]),e(g).ee?D("",!0):(s(),y(W,{key:0},[t(P),t(de,{key:"language",class:"lang-menu !py-0",placement:"rightBottom"},{content:i(()=>[p("div",to,[t(M)])]),default:i(()=>[t(w,null,{default:i(()=>[t(b,{icon:"translate",class:"group-hover:text-black nc-language ml-0.25 menu-icon"}),S(" "+L(l.$t("labels.language"))+" ",1),Yt,eo,t(K,{class:"transform group-hover:scale-115 group-hover:text-accent text-xl text-gray-400"})]),_:1})]),_:1})],64)),t(P),t(w,{onClick:h},{default:i(()=>[e(u)?(s(),j(b,{key:0,icon:"check",class:"group-hover:text-black menu-icon"})):(s(),j(b,{key:1,icon:"copy",class:"menu-icon"})),e(u)?(s(),y(W,{key:2},[S(" Copied Auth Token ")],64)):(s(),y(W,{key:3},[S(" Copy Auth Token ")],64))]),_:1}),se((s(),j(ue,{class:"!no-underline",to:"/account/tokens"},{default:i(()=>[t(w,null,{default:i(()=>[t(b,{icon:"settings",class:"menu-icon"}),S(" Account Settings")]),_:1})]),_:1})),[[ve,["c:navbar:user:email"]]])]),_:1})]),default:i(()=>{var A;return[p("div",Jt,[t(C),p("div",qt,L(e(m)?e(m):(A=e(r))==null?void 0:A.email),1),t(b,{icon:"arrowUp",class:"!min-w-5"})])]}),_:1},8,["visible"]),e(g).ee?(s(),y("div",oo,"Â© 2023 NocoDB. Inc")):e(f)?(s(),y("div",no,[p("div",so,[t(e(Ft),{href:"https://github.com/nocodb/nocodb","data-icon":"octicon-star","data-show-count":"true","data-size":"large"},{default:i(()=>[S(" Star ")]),_:1})]),p("div",ao,[t(fe,{class:"color-transition px-2 text-gray-500 cursor-pointer select-none hover:text-accent"})])])):D("",!0)])}}});const co=V(ro,[["__scopeId","data-v-27b5ea42"]]),lo=X(()=>G(()=>import("./index.268f0f3c.js"),["./index.268f0f3c.js","./Icon.vue.e15b8911.js","./entry.13466615.js","./entry.0f786d51.css","./Button.vue.a83cab3b.js","./index.f2e6837c.js","./debounce.dbc9bf77.js","./toNumber.7aa6a805.js","./isSymbol.b9109ae5.js","./_plugin-vue_export-helper.c27b6911.js","./Button.95d2a5ed.css","./Modal.vue.7eba58e8.js","./DeleteModal.7ab6f524.css","./useMetas.223da623.js","./tab.586445bb.js","./validation.5ed31fc1.js","./index.6f605a00.js","./FormItem.fe59dafe.js","./identity.b813b76e.js","./_getPrototype.00be30f0.js","./Col.23d910dc.js","./responsiveObserve.9209e727.js","./toArray.f6fa5a71.js","./FormItemContext.27b2e5db.js","./useSize.dec45296.js","./_flatRest.037bf8e3.js","./isPlainObject.4c0f42f1.js","./index.a8ef1b7e.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.c1eed30a.js","./TextArea.1bd4034f.js","./Password.d7b16461.js","./plus.5f5a668e.js","./index.2660048d.js","./Checkbox.65681aa3.js","./createForOfIteratorHelper.37be2624.js","./index.638acbb4.js","./index.3cc83813.js","./index.62e3d60f.js","./Dropdown.a78be736.js","./useState.a6853ebd.js","./useRefs.6ea70d5c.js","./isMobile.e2e89480.js","./useMergedState.1cc2a884.js","./index.89133b21.js","./index.1669d181.js","./plus.c191ad20.css","./Modal.vue.fe6a4790.js","./ProjectIcon.05001560.js","./ProjectIcon.e2bf4d92.css","./QuickImport.vue.13f30a49.js","./CheckOutlined.80115d65.js","./index.7bdf0a46.js","./DownOutlined.9cfe3e0c.js","./index.e7cf7635.js","./index.5263eb1d.js","./index.18c65772.js","./sortable.esm.9c3c89c5.js","./Tooltip.vue.30df4de9.js","./Tooltip.b86f91a1.css","./TableIcon.vue.95089890.js","./DeleteModal.vue.55101b0a.js","./Tooltip.vue.67a657ea.js","./index.82f05b6c.js","./RightOutlined.2c092523.js","./useCopy.a0671815.js","./domUtils.b0dc23e8.js","./urlUtils.f6dc4ebc.js","./index.2ae12d3e.js","./index.8edf0358.js","./256x256.b96b2477.js","./sidebar.42429978.js","./Input.2c73684e.js","./index.3e3f609f.js","./nuxt-link.d273ea3b.js","./Dropdown.vue.be6ede75.js","./index.ff7d18e2.js","./index.ff575c2b.css"],import.meta.url).then(o=>o.default||o)),io={class:"nc-sidebar flex flex-col bg-gray-50 outline-r-1 outline-gray-100 select-none w-full h-full",style:{outlineWidth:"1px"}},_o={class:"flex flex-col"},uo={key:0,class:"flex flex-row w-full justify-between items-center my-1.5 pl-4 pr-1.75"},po={class:"text-gray-500 font-medium"},mo={key:0,style:{height:"var(--sidebar-bottom-height)"}},fo=B({__name:"Sidebar",setup(o){const r=U(),{isWorkspaceLoading:c}=N(r),{isSharedBase:a}=N(q()),g=I(!1),d=I(),_=I(!1),k=()=>(d.value&&(d.value.scrollTop>0?_.value=!0:_.value=!1),!1);return ae(()=>{var m;(m=d.value)==null||m.addEventListener("scroll",k)}),Pe(()=>{var m;(m=d.value)==null||m.removeEventListener("scroll",k)}),(m,n)=>{const u=dt,$=Nt,x=H,h=ie,f=Y,l=lo,v=co;return s(),y("div",io,[p("div",_o,[t(u),e(a)?D("",!0):(s(),j($,{key:0}))]),p("div",{ref_key:"treeViewDom",ref:d,class:R(["flex flex-col nc-scrollbar-sm-dark flex-grow",{"border-t-1":!e(a),"border-transparent":!e(_),"pt-0.25":e(a)}])},[e(a)?D("",!0):(s(),y("div",uo,[e(c)?(s(),j(f,{key:1,active:!0,class:"mt-0.5 !w-40 !h-4 !rounded overflow-hidden"})):(s(),y(W,{key:0},[p("div",po,L(m.$t("objects.projects")),1),t(h,{"is-open":e(g),"onUpdate:isOpen":n[0]||(n[0]=C=>z(g)?g.value=C:null),modal:"",type:"text",size:"xxsmall",class:"!hover:bg-gray-200 !hover-text-gray-800 !text-gray-600",centered:!0,"data-testid":"nc-sidebar-create-project-btn-small"},{default:i(()=>[t(x,{icon:"plus",class:"text-lg leading-6",style:{"-webkit-text-stroke":"0.2px"}})]),_:1},8,["is-open"])],64))])),e(c)?D("",!0):(s(),j(l,{key:1}))],2),e(a)?D("",!0):(s(),y("div",mo,[t(v)]))])}}});const vo=V(fo,[["__scopeId","data-v-c62fd3f3"]]),go=X(()=>G(()=>import("./Modal.d097a204.js"),["./Modal.d097a204.js","./entry.13466615.js","./entry.0f786d51.css","./useMetas.223da623.js","./index.5263eb1d.js","./index.2660048d.js","./Checkbox.65681aa3.js","./FormItemContext.27b2e5db.js","./createForOfIteratorHelper.37be2624.js","./index.82f05b6c.js","./Dropdown.a78be736.js","./RightOutlined.2c092523.js","./DownOutlined.9cfe3e0c.js","./Title.f7235aba.js","./TextArea.1bd4034f.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./CheckOutlined.80115d65.js","./useMergedState.1cc2a884.js","./index.a0a88763.js","./isNumeric.3f69e2aa.js","./LeftOutlined.b2689280.js","./index.1669d181.js","./_plugin-vue_export-helper.c27b6911.js","./Modal.3b72f3ae.css"],import.meta.url).then(o=>o.default||o)),ho=B({__name:"index",setup(o){const r=I(!1),c=I(""),a=I(""),g=I(),d=ce(),{populateWorkspace:_}=U(),{signedIn:k}=E(),n=Le().currentRoute,{projectsList:u}=N(d),$=async()=>{const f=n.value.name;f!=="index-typeOrId"&&f!=="index"||await d.navigateToProject({projectId:u.value[0].id})},x=T(()=>{const f=n.value.name||"";return!f.startsWith("index-typeOrId-projectId-")&&!["index","index-typeOrId"].includes(f)});F(()=>n.value.params.typeOrId,async()=>{if(!x.value){if(n.value.params.typeOrId==="base"){await _();return}if(!k.value){re("/signIn");return}await _(),!n.value.params.projectId&&u.value.length>0&&await $()}},{immediate:!0});function h(f,l,v,C){r.value=f??!r.value,c.value=l||"",a.value=v||"",g.value=C||""}return Ve(Ye,h),(f,l)=>{const v=ze,C=Oe,b=vo,O=go;return s(),y("div",null,[e(x)?(s(),j(C,{key:0,name:"shared-view"},{default:i(()=>[t(v)]),_:1})):(s(),j(C,{key:1,name:"dashboard"},{sidebar:i(()=>[t(b)]),content:i(()=>[t(v)]),_:1})),t(O,{"model-value":e(r),"onUpdate:modelValue":l[0]||(l[0]=w=>z(r)?r.value=w:null),"open-key":e(c),"onUpdate:openKey":l[1]||(l[1]=w=>z(c)?c.value=w:null),"data-sources-state":e(a),"onUpdate:dataSourcesState":l[2]||(l[2]=w=>z(a)?a.value=w:null),"project-id":e(g)},null,8,["model-value","open-key","data-sources-state","project-id"])])}}}),Ao=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"}));export{yt as _,Ao as i};
