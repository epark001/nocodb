import{_ as V}from"./Icon.vue.e15b8911.js";import{_ as y}from"./Button.vue.a83cab3b.js";import{_ as k}from"./Modal.vue.7eba58e8.js";import{h as b,T as B,c4 as C,r as N,o as M,C as R,w as e,a as n,b as s,d as p,E as t,H as S,I as z,J as E,K as F}from"./entry.13466615.js";import{u as I}from"./useSharedView.746b4f21.js";import{F as P}from"./index.6f605a00.js";import{_ as T}from"./Password.d7b16461.js";import{_ as U}from"./FormItem.fe59dafe.js";import"./index.f2e6837c.js";import"./debounce.dbc9bf77.js";import"./toNumber.7aa6a805.js";import"./isSymbol.b9109ae5.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./useMetas.223da623.js";import"./index.5263eb1d.js";import"./useSize.dec45296.js";import"./identity.b813b76e.js";import"./_flatRest.037bf8e3.js";import"./isPlainObject.4c0f42f1.js";import"./_getPrototype.00be30f0.js";import"./FormItemContext.27b2e5db.js";import"./Input.16966097.js";import"./antInputDirective.8ac36ea7.js";import"./Col.23d910dc.js";import"./responsiveObserve.9209e727.js";import"./toArray.f6fa5a71.js";const $={class:"flex flex-row items-center gap-x-2"},q={class:"mt-2"},j={class:"flex flex-row justify-end gap-x-2 mt-6"},ue=b({__name:"AskPassword",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(c,{emit:d}){const o=B(c,"modelValue",d),_=C(),{loadSharedView:u}=I(),a=N({password:void 0}),l=async()=>{try{await u(_.params.viewId,a.value.password),o.value=!1}catch(i){console.error(i),E.error(await F(i))}};return(i,r)=>{const f=V,w=T,v=U,h=P,x=y,g=k;return M(),R(g,{visible:t(o),"onUpdate:visible":r[1]||(r[1]=m=>S(o)?o.value=m:null),c:"",size:"small",class:z({active:t(o)}),"mask-closable":!1},{header:e(()=>[n("div",$,[s(f,{icon:"key"}),p(" This shared view is protected ")])]),default:e(()=>[n("div",q,[s(h,{ref:"formRef",model:t(a),name:"create-new-table-form",onFinish:l},{default:e(()=>[s(v,{name:"password",rules:[{required:!0,message:"Password is required"}]},{default:e(()=>[s(w,{ref:"focus",value:t(a).password,"onUpdate:value":r[0]||(r[0]=m=>t(a).password=m),class:"nc-input-md","hide-details":"",size:"large",placeholder:"Enter password"},null,8,["value"])]),_:1})]),_:1},8,["model"]),n("div",j,[s(x,{type:"primary","html-type":"submit",onClick:l},{loading:e(()=>[p(" Verifying Password ")]),default:e(()=>[p("Unlock ")]),_:1})])])]),_:1},8,["visible","class"])}}});export{ue as default};
