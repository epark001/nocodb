import{h as C,i as A,o as p,C as L,w as l,d as I,t as d,c as h,aj as S,cp as T,b,a as v,E as x,H as D,I as O,b6 as R,P as V,cf as w,ci as K,A as $,c4 as N,g as B,r as E,U as P,e4 as j,J as M,K as z,k as J,l as G,b4 as U,Q as F,c6 as H,eX as q,R as Q,f as X}from"./entry.51f4e399.js";import{_ as W,a as Y}from"./index.5a908291.js";import{u as Z}from"./index.277e21b7.js";import{a as ee}from"./useMetas.ba7abae7.js";import{u as te}from"./index.3c3505ee.js";import{_ as oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.0db47614.js";import"./debounce.7d32c110.js";import"./toNumber.9dc54e53.js";import"./isSymbol.b53bd26f.js";import"./index.09b19c06.js";import"./LeftOutlined.3bb8aa17.js";import"./RightOutlined.90e8180f.js";import"./index.5e746f62.js";import"./toArray.06afb623.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.b13a9257.js";import"./useMergedState.5e6500b1.js";import"./useState.6010d8b6.js";import"./DownOutlined.db6f6406.js";import"./CheckOutlined.ef30fafc.js";import"./SearchOutlined.dec109ce.js";import"./FormItemContext.e001cd7c.js";import"./useBreakpoint.a91853f1.js";import"./responsiveObserve.501a6cf9.js";import"./Col.88cfabc0.js";import"./eagerComputed.6062ac13.js";const re={class:"font-bold"},se={class:"inline-block"},ae={class:"inline-block text-right"},ne=C({__name:"KeyboardShortcuts",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(c,{emit:y}){const o=A({get:()=>c.modelValue,set:u=>y("update:modelValue",u)}),t=()=>w()?"⌘":"CTRL",a=()=>w()?"⌥":"ALT",_=[{title:"General",shortcuts:[{keys:["ALT","T"],behaviour:"Insert new table"},{keys:["ALT","R"],behaviour:"Insert new row"},{keys:["ALT","C"],behaviour:"Insert new column"},{keys:["ALT","F"],behaviour:"Toggle fullscreen mode"},{keys:["ALT","I"],behaviour:"Invite a member to team"},{keys:["ALT",","],behaviour:"Open Team & Settings"}]},{title:"Grid View",shortcuts:[{keys:[t(),"←"],behaviour:"Jump to leftmost column in this row"},{keys:[t(),"→"],behaviour:"Jump to rightmost column in this row"},{keys:[t(),"↑"],behaviour:"Jump to first record in this column (in same page)"},{keys:[t(),"↓"],behaviour:"Jump to last record in this column (in same page)"},{keys:[t(),"C"],behaviour:"Copy cell contents"},{keys:["Enter"],behaviour:"Switch cell in focus to EDIT mode; opens modal / picker if cell is associated with one"},{keys:["Esc"],behaviour:"Exit cell EDIT mode"},{keys:["Delete"],behaviour:"Clear cell"},{keys:["Space"],behaviour:"Expand current row"},{keys:["←","→","↑","↓"],behaviour:"General cell navigation"},{keys:["Tab"],behaviour:"Move to next cell horizontally; if on last cell, move to next row beginning"}]},{title:"Text / Number",shortcuts:[{keys:["←"],behaviour:"Move cursor to the left"},{keys:["→"],behaviour:"Move cursor to the right"},{keys:["↑"],behaviour:"Move cursor to the left"},{keys:["↓"],behaviour:"Move cursor to the right"}]},{title:"SingleSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select the current option"}]},{title:"MultiSelect",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"},{keys:["Enter"],behaviour:"Select / deselect the current option"}]},{title:"Date / DateTime",shortcuts:[{keys:[t(),";"],behaviour:"Select current date time"}]},{title:"LinkToAnotherRecord",shortcuts:[{keys:["↑"],behaviour:"Move to the previous option"},{keys:["↓"],behaviour:"Move to the next option"}]},{title:"Checkbox",shortcuts:[{keys:["Enter"],behaviour:"Toggle"}]},{title:"Rating",shortcuts:[{keys:["<0 ~ Max>"],behaviour:"Enter number to toggle rating"}]},{title:"Expanded Form",shortcuts:[{keys:[t(),"Enter"],behaviour:"Save current expanded form item"},{keys:[a(),"→"],behaviour:"Switch to next row"},{keys:[a(),"←"],behaviour:"Switch to previous row"},{keys:[a(),"S"],behaviour:"Save current expanded form item"},{keys:[a(),"N"],behaviour:"Create a new row"}]}];return(u,n)=>{const k=W,f=Y,g=V;return p(),L(g,{visible:x(o),"onUpdate:visible":n[0]||(n[0]=e=>D(o)?o.value=e:null),class:O([{active:x(o)},"p-2"]),width:"max(30vw, 600px)",footer:null,"wrap-class-name":`nc-modal-keyboard-shortcuts ${x(o)?"active":""}`,onKeydown:n[1]||(n[1]=R(e=>o.value=!1,["esc"]))},{title:l(()=>[I(d(u.$t("title.keyboardShortcut")),1)]),default:l(()=>[(p(),h(S,null,T(_,(e,s)=>b(f,{key:s,class:"nc-shortcut-list !mb-5",size:"small",bordered:"","data-source":e.shortcuts},{header:l(()=>[v("div",re,d(e.title),1)]),renderItem:l(({item:r})=>[b(k,null,{default:l(()=>[v("span",se,[(p(!0),h(S,null,T(r.keys,(i,m)=>(p(),h("kbd",{key:m,class:"ml-[1px] mr-[1px] px-[8px] py-[3px] border-b-[3px] uppercase border-1 border-solid border-primary border-opacity-50 rounded"},d(i),1))),128))]),v("span",ae,d(r.behaviour),1)]),_:2},1024)]),_:2},1032,["data-source"])),64))]),_:1},8,["visible","class","wrap-class-name"])}}}),ie=F(()=>Q(()=>import("./PreviewAs.45601fb9.js"),["./PreviewAs.45601fb9.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.2a1a64ce.js","./Checkbox.a529f1e6.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./PreviewAs.038f85f9.css"],import.meta.url).then(c=>c.default||c)),ce=C({__name:"index",setup(c){K();const{t:y}=$(),{$e:o}=X(),t=N(),a=B(),_=ee(),{loadProject:u}=_,{toggle:n,toggleHasSidebar:k}=te("nc-left-sidebar",{hasSidebar:!0,isOpen:!0}),f=E(!1);P("Escape",()=>{f.value=!1},{eventName:"keydown"}),j(async()=>{var i;try{await u()}catch(m){if(((i=m.response)==null?void 0:i.status)===403){M.error(y("msg.error.projectNotAccessible")),a.replace("/");return}M.error(await z(m))}const{type:e,name:s,view:r}=t.query;e&&s&&await a.replace(`/nc/${t.params.projectId}/${e}/${s}${r?`/${r}`:""}`)}),J(()=>{n(!0),k(!0)}),G(()=>{});function g(){o("a:actions:keyboard-shortcut");const e=E(!0),{close:s}=Z(ne,{modelValue:e,"onUpdate:modelValue":r});function r(){e.value=!1,s(1e3)}}return U(document,"keydown",async e=>{if(w()?e.metaKey:e.ctrlKey)switch(e.key){case"/":q()||(o("c:shortcut",{key:"CTRL + /"}),g());break}}),(e,s)=>{const r=H,i=ie;return p(),h("div",null,[v("div",null,[b(r),b(i,{float:""})])])}}});const $e=oe(ce,[["__scopeId","data-v-2598c025"]]);export{$e as default};
