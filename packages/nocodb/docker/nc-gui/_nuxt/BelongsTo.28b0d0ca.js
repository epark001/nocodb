import{h as S,$ as n,cg as z,r,eI as F,i as f,o as v,c as x,a as H,E as e,C as M,W as C,b as g,cF as O,H as G,I as K,Q,R as W}from"./entry.13466615.js";import{_ as q}from"./ItemChip.28e6239c.js";import{_ as J}from"./Icon.vue.e15b8911.js";import{C as X,w as Y,j as Z,i as ee,h as te,f as oe,c as se,d as ne,y as ae}from"./index.5263eb1d.js";import{u as le}from"./useLTARStore.0002d56d.js";import{u as re}from"./index.a6329415.js";import{a as ie}from"./useSmartsheetRowStore.ef2cd001.js";import{u as ue}from"./index.e7cf7635.js";import{_ as ce}from"./_plugin-vue_export-helper.c27b6911.js";import"./cell.b6c2deed.js";import"./index.8d89c37a.js";import"./index.2a3da6a9.js";import"./useMetas.223da623.js";import"./useSharedView.746b4f21.js";import"./deepCompare.d32ec333.js";import"./dataUtils.31dbfaee.js";import"./virtualCell.88c63e03.js";const me=Q(()=>W(()=>import("./ListItems.fe545f38.js"),["./ListItems.fe545f38.js","./entry.13466615.js","./entry.0f786d51.css","./ItemChip.28e6239c.js","./index.e7cf7635.js","./index.5263eb1d.js","./cell.b6c2deed.js","./index.8d89c37a.js","./index.2a3da6a9.js","./useLTARStore.0002d56d.js","./useMetas.223da623.js","./useSharedView.746b4f21.js","./_plugin-vue_export-helper.c27b6911.js","./ItemChip.06f0b072.css","./index.a6329415.js","./useSmartsheetRowStore.ef2cd001.js","./deepCompare.d32ec333.js","./dataUtils.31dbfaee.js","./virtualCell.88c63e03.js","./index.a8ef1b7e.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./FormItemContext.27b2e5db.js","./SearchOutlined.c1eed30a.js","./isPlainObject.4c0f42f1.js","./_getPrototype.00be30f0.js","./TextArea.1bd4034f.js","./Password.d7b16461.js","./index.3cc83813.js","./index.62e3d60f.js","./Dropdown.a78be736.js","./useState.a6853ebd.js","./useRefs.6ea70d5c.js","./identity.b813b76e.js","./isSymbol.b9109ae5.js","./_flatRest.037bf8e3.js","./isMobile.e2e89480.js","./useMergedState.1cc2a884.js","./index.638acbb4.js","./Col.23d910dc.js","./responsiveObserve.9209e727.js","./index.89133b21.js","./index.bc4f5185.js","./LeftOutlined.b2689280.js","./RightOutlined.2c092523.js","./index.4385a501.js","./toArray.f6fa5a71.js","./useMemo.4991ab9d.js","./DownOutlined.9cfe3e0c.js","./CheckOutlined.80115d65.js","./useBreakpoint.66a79637.js","./ListItems.edf42c5a.css"],import.meta.url).then(c=>c.default||c)),pe={class:"chips flex items-center flex-1"},_e={key:0,class:"flex justify-end gap-1 min-h-[30px] items-center"},de=S({__name:"BelongsTo",async setup(c){let I,y;const a=n(X),R=n(Y,z()),s=n(Z,r(null)),j=n(ee),k=n(te),T=n(oe,r(!1)),b=n(se,r(!1)),h=n(ne,r(!1)),L=n(ae,r(!1)),{isUIAllowed:A}=ue(),l=r(!1),{state:m,isNew:p,removeLTARRef:B}=ie(),{relatedTableMeta:E,loadRelatedTableMeta:P,relatedTableDisplayValueProp:_,unlink:U}=le(a,j,p,R.trigger);[I,y]=F(()=>P()),await I,y();const V=f(()=>s!=null&&s.value?"expand":"plus"),i=f(()=>{var t;return s!=null&&s.value?s==null?void 0:s.value:p.value?(t=m==null?void 0:m.value)==null?void 0:t[a==null?void 0:a.value.title]:null}),D=async t=>{p.value?await B(t,a==null?void 0:a.value):await U(t)};re(k,t=>{switch(t.key){case"Enter":l.value=!0,t.stopPropagation();break}});const w=f(()=>{var t,o;return(o=(t=E.value)==null?void 0:t.columns)==null?void 0:o.find(d=>d.title===_.value)});return(t,o)=>{const d=q,$=J,N=me;return v(),x("div",{class:K(["flex w-full chips-wrapper items-center",{active:e(k)}])},[H("div",pe,[e(i)&&e(_)?(v(),M(d,{key:0,item:e(i),value:e(i)[e(_)],column:e(w),"show-unlink-button":!0,onUnlink:o[0]||(o[0]=u=>D(e(i)))},null,8,["item","value","column"])):C("",!0)]),!e(T)&&!e(h)&&(e(A)("xcDatatableEditable")||e(b))&&!e(L)?(v(),x("div",_e,[g($,{icon:e(V),class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 select-none group-hover:text-gray-500 nc-plus",onClick:o[1]||(o[1]=O(u=>l.value=!0,["stop"]))},null,8,["icon"])])):C("",!0),g(N,{modelValue:e(l),"onUpdate:modelValue":o[2]||(o[2]=u=>G(l)?l.value=u:null),column:e(w),onAttachRecord:o[3]||(o[3]=u=>l.value=!0)},null,8,["modelValue","column"])],2)}}});const Ee=ce(de,[["__scopeId","data-v-4be37538"]]);export{Ee as default};
