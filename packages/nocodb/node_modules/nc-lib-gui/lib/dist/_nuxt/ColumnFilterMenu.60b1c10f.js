import{u as B,_ as S}from"./ColumnFilter.38f032c4.js";import{_ as $}from"./Dropdown.vue.97a9d1a0.js";import{d as j,A as D,b as M}from"./index.5263eb1d.js";import{o as i,c,a as u,h as N,$ as p,r as e,S as A,i as E,aq as z,cI as H,C as f,w as l,b as _,E as t,I as O,aV as T,t as v,W as h,H as U,L as q}from"./entry.51f4e399.js";import{u as G}from"./index.f7e0da2d.js";import{a as P}from"./useSmartsheetStore.1784ce8b.js";import"./Select.vue.e482f984.js";import"./Icon.vue.1162f18b.js";import"./index.5e746f62.js";import"./toArray.06afb623.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.b13a9257.js";import"./useMergedState.5e6500b1.js";import"./useState.6010d8b6.js";import"./DownOutlined.db6f6406.js";import"./CheckOutlined.ef30fafc.js";import"./SearchOutlined.dec109ce.js";import"./FormItemContext.e001cd7c.js";import"./Button.vue.793bcd1d.js";import"./index.0db47614.js";import"./debounce.7d32c110.js";import"./toNumber.9dc54e53.js";import"./isSymbol.b53bd26f.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./FieldListAutoCompleteDropdown.vue.6ac3ad51.js";import"./VirtualCellIcon.f17eeb0a.js";import"./virtualCell.4dce1393.js";import"./CellIcon.8a6080fd.js";import"./cell.1732684e.js";import"./useMetas.ba7abae7.js";import"./useViewColumns.96f2a704.js";import"./index.9e760c64.js";import"./SingleSelect.973aafb9.js";import"./index.82c42c24.js";import"./index.d05e87a9.js";import"./MultiSelect.c752aaec.js";import"./DatePicker.ccf8ebfc.js";import"./dayjs.5e586ea0.js";import"./index.f911c8dd.js";import"./createForOfIteratorHelper.12419aa5.js";import"./YearPicker.e6eb7343.js";import"./TimePicker.16f63c4f.js";import"./Rating.vue.ff9d0360.js";import"./useRefs.154aa2be.js";import"./Duration.2333caad.js";import"./durationUtils.4b78cf29.js";import"./Percent.vue.649b69a3.js";import"./Currency.vue.5d9aceaa.js";import"./Decimal.2e9d72fd.js";import"./Integer.0dc3a7a3.js";import"./Float.ec21e7fe.js";import"./Text.vue.01e1d339.js";import"./index.0d6d8ba8.js";import"./Checkbox.a529f1e6.js";import"./index.252dc7b4.js";import"./Dropdown.dc69c0a4.js";import"./RightOutlined.90e8180f.js";import"./views.28a76d89.js";import"./useSharedView.0db5f32b.js";import"./index.b9981e09.js";const R={class:"nc-icon",stroke:"currentColor",width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W=u("path",{d:"M14.6668 1H1.3335L6.66683 7.30667V11.6667L9.3335 13V7.30667L14.6668 1Z",stroke:"currentColor","stroke-width":"1.33333","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Z=[W];function J(b,d){return i(),c("svg",R,Z)}const K={name:"nc-icons-filter",render:J},Q={class:"flex items-center gap-2"},X={key:0,class:"text-capitalize !text-sm font-medium"},Y={key:1,class:"nc-count-badge"},ao=N({__name:"ColumnFilterMenu",setup(b){const d=p(j,e(!1)),s=p(D,e());p(M,e(!1));const{filterAutoSave:w,isMobileMode:k}=A(),g=e(),{nestedFilters:C}=P(),{nonDeletedFilters:x,loadFilters:y}=B(s,void 0,E(()=>!0),()=>!1,C.value,!0),r=e(0);z(()=>{var o;return(o=s==null?void 0:s.value)==null?void 0:o.id},async o=>{o&&(await y(),r.value=x.value.length||0)},{immediate:!0});const n=e(!1);return G(n),(o,a)=>{const I=q,L=S,F=$,V=H("e");return i(),f(F,{visible:t(n),"onUpdate:visible":a[1]||(a[1]=m=>U(n)?n.value=m:null),trigger:["click"],"overlay-class-name":"nc-dropdown-filter-menu nc-toolbar-dropdown"},{overlay:l(()=>[_(L,{ref_key:"filterComp",ref:g,class:"nc-table-toolbar-menu","auto-save":t(w),"data-testid":"nc-filter-menu","onUpdate:filtersLength":a[0]||(a[0]=m=>r.value=m)},null,8,["auto-save"])]),default:l(()=>[u("div",{class:O({"nc-active-btn":t(r)})},[T((i(),f(I,{class:"nc-filter-menu-btn nc-toolbar-btn txt-sm",disabled:t(d)},{default:l(()=>[u("div",Q,[_(t(K),{class:"h-4 w-4"}),t(k)?h("",!0):(i(),c("span",X,v(o.$t("activity.filter")),1)),t(r)?(i(),c("span",Y,v(t(r)),1)):h("",!0)])]),_:1},8,["disabled"])),[[V,["c:filter"]]])],2)]),_:1},8,["visible"])}}});export{ao as default};
