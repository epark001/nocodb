import{o as r,c as p,a as e,h as j,z as A,A as B,r as x,B as N,C as b,w as a,Q as U,c9 as z,b as o,E as n,t as s,aj as $,d as i,bP as D,W as M,D as S,F as T,R as q}from"./entry.51f4e399.js";import{_ as G}from"./nuxt-link.b37e7c69.js";import{v as H}from"./validation.6db726f3.js";import{_ as W}from"./warning.6435b508.js";import"./index.e760d172.js";import{I as O}from"./Input.7cb175ff.js";import{_ as Q}from"./FormItem.cda40628.js";import{F as Z}from"./index.de92142d.js";import"./SearchOutlined.dec109ce.js";import"./isPlainObject.ecf52d25.js";import"./_getPrototype.ec1165af.js";import"./TextArea.442a25cb.js";import"./antInputDirective.8ac36ea7.js";import"./FormItemContext.e001cd7c.js";import"./Password.d493e47a.js";import"./identity.dd5da9ba.js";import"./isSymbol.b53bd26f.js";import"./Col.88cfabc0.js";import"./responsiveObserve.501a6cf9.js";import"./toArray.06afb623.js";import"./toNumber.9dc54e53.js";import"./useSize.3b3f469f.js";import"./_flatRest.ff2d3d5c.js";import"./debounce.7d32c110.js";const J={viewBox:"0 0 36 36",width:"1.2em",height:"1.2em"},K=e("path",{fill:"currentColor",d:"M13.72 27.69L3.29 17.27a1 1 0 0 1 1.41-1.41l9 9L31.29 7.29A1 1 0 0 1 32.7 8.7Z",class:"clr-i-outline clr-i-outline-path-1"},null,-1),X=e("path",{fill:"none",d:"M0 0h36v36H0z"},null,-1),Y=[K,X];function ee(l,g){return r(),p("svg",J,Y)}const te={name:"clarity-success-line",render:ee},oe=U(()=>q(()=>import("./NocoIcon.f1ec0f0c.js"),["./NocoIcon.f1ec0f0c.js","./NocoIcon.vue.6ea1cae5.js","./entry.51f4e399.js","./entry.0f786d51.css","./256x256-trans.2cd7e00a.js","./256x256.3b34edca.js"],import.meta.url).then(l=>l.default||l)),se={class:"md:bg-primary bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},ne={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},ae={class:"self-center flex flex-col justify-center items-center text-center gap-2"},re={class:"prose-2xl font-bold my-4 w-full"},ie={class:"prose-sm"},le={class:"prose-sm mb-4"},ce={class:"prose-sm text-success flex items-center leading-8 gap-2"},me={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},_e={class:"flex items-center gap-2 justify-center"},pe={class:"break-words"},de={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},ue={class:"scaling-btn bg-opacity-100",type:"submit"},fe={class:"flex items-center gap-2"},ge={class:"text-end prose-sm"},Se=j({__name:"forgot-password",setup(l){const{api:g,isLoading:k,error:c}=A({useGlobalInstance:!0}),{t:d}=B(),v=x(!1),h=x(),m=N({email:""}),I={email:[{required:!0,message:d("msg.error.signUpRules.emailReqd")},{validator:(t,_)=>new Promise((u,f)=>{if(H(_))return u();f(new Error(d("msg.error.signUpRules.emailInvalid")))}),message:d("msg.error.signUpRules.emailInvalid")}]};async function R(){h.value.validate()&&(y(),await g.auth.passwordForgot(m).then(()=>{v.value=!0}))}function y(){c.value&&(c.value=null)}return(t,_)=>{const u=oe,f=te,w=G,E=W,C=O,F=Q,L=Z,P=z;return r(),b(P,null,{default:a(()=>[e("div",se,[e("div",ne,[o(u,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:n(k)},null,8,["animate"]),e("div",ae,[e("h1",re,s(t.$t("title.resetPassword")),1),n(v)?(r(),p($,{key:1},[e("div",ce,[i(s(t.$t("msg.info.passwordRecovery.success"))+" ",1),o(f)]),o(w,{to:"/signin"},{default:a(()=>[i(s(t.$t("general.signIn")),1)]),_:1})],64)):(r(),p($,{key:0},[e("div",ie,s(t.$t("msg.info.passwordRecovery.message_1")),1),e("div",le,s(t.$t("msg.info.passwordRecovery.message_2")),1)],64))]),o(L,{ref_key:"formValidator",ref:h,layout:"vertical",model:n(m),"no-style":"",onFinish:R},{default:a(()=>[o(D,{name:"layout"},{default:a(()=>[n(c)?(r(),p("div",me,[e("div",_e,[o(E),e("div",pe,s(n(c)),1)])])):M("",!0)]),_:1}),o(F,{label:t.$t("labels.email"),name:"email",rules:I.email},{default:a(()=>[o(C,{value:n(m).email,"onUpdate:value":_[0]||(_[0]=V=>n(m).email=V),size:"large",placeholder:t.$t("msg.info.signUp.workEmail"),onFocus:y},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),e("div",de,[e("button",ue,[e("span",fe,[(r(),b(S(n(T).signin))),i(" "+s(t.$t("activity.sendEmail")),1)])]),e("div",ge,[i(s(t.$t("msg.info.signUp.alreadyHaveAccount"))+" ",1),o(w,{to:"/signin"},{default:a(()=>[i(s(t.$t("general.signIn")),1)]),_:1})])])]),_:1},8,["model"])])])]),_:1})}}});export{Se as default};
