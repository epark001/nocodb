import{a as F}from"./EditOrAddProvider.vue.09b12d8b.js";import{R as w,h as g,T as V,i as L,o as p,C as S,w as r,b as s,cA as v,E as e,c as N,aj as y,cp as M,d as A,t as C,a as H,W as I}from"./entry.51f4e399.js";import{S as Y,_ as Z}from"./index.5e746f62.js";import{_ as W}from"./FormItem.cda40628.js";import{_ as h}from"./index.fbcca285.js";import{_ as b}from"./index.529d8b39.js";import"./Icon.vue.1162f18b.js";import"./Button.vue.793bcd1d.js";import"./index.0db47614.js";import"./debounce.7d32c110.js";import"./toNumber.9dc54e53.js";import"./isSymbol.b53bd26f.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./useBetaFeatureToggle.5dbba600.js";import"./index.5263eb1d.js";import"./index.e5ddde08.js";import"./validation.6db726f3.js";import"./useMetas.ba7abae7.js";import"./index.de92142d.js";import"./useSize.3b3f469f.js";import"./identity.dd5da9ba.js";import"./_flatRest.ff2d3d5c.js";import"./isPlainObject.ecf52d25.js";import"./_getPrototype.ec1165af.js";import"./FormItemContext.e001cd7c.js";import"./index.e760d172.js";import"./Input.7cb175ff.js";import"./antInputDirective.8ac36ea7.js";import"./SearchOutlined.dec109ce.js";import"./TextArea.442a25cb.js";import"./Password.d493e47a.js";import"./index.0d6d8ba8.js";import"./Checkbox.a529f1e6.js";import"./createForOfIteratorHelper.12419aa5.js";import"./toArray.06afb623.js";import"./isMobile.e2e89480.js";import"./useMemo.b13a9257.js";import"./useMergedState.5e6500b1.js";import"./useState.6010d8b6.js";import"./DownOutlined.db6f6406.js";import"./CheckOutlined.ef30fafc.js";import"./Col.88cfabc0.js";import"./responsiveObserve.501a6cf9.js";const K=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CYP","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHC","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","ROL","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDD","SEK","SGD","SHP","SIT","SKK","SLL","SOS","SRD","STD","SYP","SZL","THB","TJS","TMM","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","USS","UYU","UZS","VEB","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XFO","XFU","XOF","XPD","XPF","XPT","XTS","XXX","YER","ZAR","ZMK","ZWD"];function x(n){return K.includes(n)}async function k(){const{all:n}=await w(()=>import("./currencyCodes.109aaa71.js"),[],import.meta.url);return n.filter(a=>T(a.tag)).map(a=>({text:`${a.name} (${a.tag})`,value:a.tag}))}function T(n){try{return Intl.NumberFormat.supportedLocalesOf(n).length>0}catch{return!1}}const J={class:"text-[#FB8C00]"},He=g({__name:"CurrencyOptions",props:{value:{}},emits:["update:value"],setup(n,{emit:a}){const c=V(n,"value",a),O={"meta.currency_locale":[{validator:(l,t)=>new Promise((i,u)=>{if(!T(t))return u(new Error("Invalid locale"));i()})}],"meta.currency_code":[{validator:(l,t)=>new Promise((i,u)=>{if(!x(t))return u(new Error("Invalid Currency Code"));i()})}]},{setAdditionalValidations:U,validateInfos:R,isPg:m}=F();U({...O});const X=K||[],B=[];k().then(l=>{B.push(...l)});const _=L(()=>c.value.dt==="money"),E=L(()=>_.value&&m.value?"PostgreSQL 'money' type has own currency settings":"");function P(l,t){return t.value.toUpperCase().includes(l.toUpperCase())}return c.value.meta={currency_locale:"en-US",currency_code:"USD",...c.value.meta},(l,t)=>{const i=Y,u=Z,f=W,d=h,G=b;return p(),S(G,{gutter:"8"},{default:r(()=>[s(d,{span:12},{default:r(()=>[s(f,v(e(R)["meta.currency_locale"],{label:"Currency Locale"}),{default:r(()=>[s(u,{value:e(c).meta.currency_locale,"onUpdate:value":t[0]||(t[0]=o=>e(c).meta.currency_locale=o),class:"w-52","show-search":"","filter-option":P,disabled:e(_)&&e(m),"dropdown-class-name":"nc-dropdown-currency-cell-locale"},{default:r(()=>[(p(),N(y,null,M(B,(o,D)=>s(i,{key:D,value:o.value},{default:r(()=>[A(C(o.text),1)]),_:2},1032,["value"])),64))]),_:1},8,["value","disabled"])]),_:1},16)]),_:1}),s(d,{span:12},{default:r(()=>[s(f,v(e(R)["meta.currency_code"],{label:"Currency Code"}),{default:r(()=>[s(u,{value:e(c).meta.currency_code,"onUpdate:value":t[1]||(t[1]=o=>e(c).meta.currency_code=o),class:"w-52","show-search":"","filter-option":P,disabled:e(_)&&e(m),"dropdown-class-name":"nc-dropdown-currency-cell-code"},{default:r(()=>[(p(!0),N(y,null,M(e(X),(o,D)=>(p(),S(i,{key:D,value:o},{default:r(()=>[A(C(o),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},16)]),_:1}),e(_)&&e(m)?(p(),S(d,{key:0},{default:r(()=>[H("span",J,C(e(E)),1)]),_:1})):I("",!0)]),_:1})}}});export{He as default};
