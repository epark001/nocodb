{"version":3,"file":"xc-core-ts.umd.js","sources":["../src/lib/ApiInterface.ts","../node_modules/auto-bind/index.js","../src/lib/BaseComponent.ts","../src/lib/BaseService.ts","../src/lib/BaseRouter.ts","../src/lib/BaseResolver.ts","../src/lib/BaseType.ts","../src/lib/CoreRest.ts","../node_modules/dataloader/index.js","../src/lib/Loader.ts","../src/lib/BaseMiddleware.ts","../src/lib/BaseMiddlewareGql.ts"],"sourcesContent":["export interface FindClauseProps {\n  limit?: string | number\n  offset?: string | number\n  sort?: string\n  where?: string\n}\n\nexport class FindClause {\n  public static make(option?: FindClauseProps): any {\n    return {\n      limit: option.limit ?? 10,\n      sort: option.sort ?? '',\n      offset: option.offset ?? 0,\n      xwhere: option.where ?? ''\n    }\n  }\n}\n","'use strict';\n\n// Gets all non-builtin properties up the prototype chain\nconst getAllProperties = object => {\n\tconst properties = new Set();\n\n\tdo {\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tproperties.add([object, key]);\n\t\t}\n\t} while ((object = Reflect.getPrototypeOf(object)) && object !== Object.prototype);\n\n\treturn properties;\n};\n\nmodule.exports = (self, {include, exclude} = {}) => {\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\n\t\tif (include) {\n\t\t\treturn include.some(match);\n\t\t}\n\n\t\tif (exclude) {\n\t\t\treturn !exclude.some(match);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tfor (const [object, key] of getAllProperties(self.constructor.prototype)) {\n\t\tif (key === 'constructor' || !filter(key)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst descriptor = Reflect.getOwnPropertyDescriptor(object, key);\n\t\tif (descriptor && typeof descriptor.value === 'function') {\n\t\t\tself[key] = self[key].bind(self);\n\t\t}\n\t}\n\n\treturn self;\n};\n","import autoBind from 'auto-bind'\n\nexport abstract class BaseComponent<T> {\n  // public abstract  priority:number;\n\n  protected app: T\n\n  constructor(app: T) {\n    this.app = app\n    autoBind(this)\n  }\n\n  public abstract async init(): Promise<void>\n}\n","import autoBind from 'auto-bind'\n\n/**\n * BaseClass for Router files in REST APIs\n *\n * @class\n * @classdesc BaseClass for Router files in REST APIs\n */\nexport abstract class BaseService {\n  constructor() {\n    autoBind(this)\n  }\n}\n","/* tslint:disable:typedef */\n\nimport autoBind from 'auto-bind'\n// import {Handler, any} from 'express';\n\n/**\n * BaseClass for Router files in REST APIs\n *\n * @class\n * @classdesc BaseClass for Router files in REST APIs\n */\nexport abstract class BaseRouter {\n  public static errJson(res: any, code: number = 200, message: string): any {\n    return res.status(code).json({ message })\n  }\n\n  constructor() {\n    autoBind(this)\n  }\n\n  /**\n   * @param {Object} app - app context\n   */\n  // constructor(app: any) {\n  //   this.app = app;\n  // }\n\n  public mapRoutes(): void {\n    throw new Error(`${this.constructor.name}.mapRoutes is not implemented`)\n  }\n\n  public catchErr(handler): any {\n    return (req, res, next) => {\n      Promise.resolve(handler.call(this, req, res, next)).catch(err => {\n        res.status(500).json({ msg: err.message })\n\n        // next(err);\n      })\n    }\n  }\n\n  public errOk<K>(res: any, dto?: K): any {\n    if (dto !== null || dto !== undefined) {\n      res.type('application/json')\n      return res.status(200).json(dto)\n    } else {\n      return res.sendStatus(200)\n    }\n  }\n\n  public created(res: any) {\n    return res.sendStatus(201)\n  }\n\n  public errBadRequest(res: any, message?: string) {\n    return BaseRouter.errJson(res, 400, message ? message : 'Bad Request')\n  }\n\n  public errUnauthorized(res: any, message?: string) {\n    return BaseRouter.errJson(res, 401, message ? message : 'Unauthorized')\n  }\n\n  public errPaymentRequired(res: any, message?: string) {\n    return BaseRouter.errJson(res, 402, message ? message : 'Payment required')\n  }\n\n  public errForbidden(res: any, message?: string) {\n    return BaseRouter.errJson(res, 403, message ? message : 'Forbidden')\n  }\n\n  public errNotFound(res: any, message?: string) {\n    return BaseRouter.errJson(res, 404, message ? message : 'Not found')\n  }\n\n  public errConflict(res: any, message?: string) {\n    return BaseRouter.errJson(res, 409, message ? message : 'Conflict')\n  }\n\n  public errTooMany(res: any, message?: string) {\n    return BaseRouter.errJson(res, 429, message ? message : 'Too many requests')\n  }\n\n  public errNotImplemented(res: any, message?: string) {\n    return BaseRouter.errJson(res, 501, message ? message : 'Not Implemented')\n  }\n\n  public todo(res: any) {\n    return BaseRouter.errJson(res, 400, 'TODO')\n  }\n\n  public errFailed(res: any, error: Error | string) {\n    return res.status(500).json({\n      message: error.toString()\n    })\n  }\n}\n","/* tslint:disable:typedef */\n\nimport autoBind from 'auto-bind'\n\n/**\n * BaseClass for Router files in REST APIs\n *\n * @class\n * @classdesc BaseClass for Router files in REST APIs\n */\nexport abstract class BaseResolver {\n  //\n  // public static errJson(\n  //   res: Response, code: number = 200, message: string\n  // ): any {\n  //   return res.status(code).json({message})\n  // }\n\n  constructor() {\n    autoBind(this)\n  }\n\n  /**\n   * @param {Object} app - app context\n   */\n  // constructor(app: any) {\n  //   this.app = app;\n  // }\n\n  public resolvers(): any {\n    throw new Error(`${this.constructor.name}.mapRoutes is not implemented`)\n  }\n\n  protected applyMiddlewares(\n    handlers: Array<(...args) => any> = [],\n    resolvers: { [key: string]: (...args) => any } = {},\n    postHandlers: Array<(...args) => any> = []\n  ) {\n    if (!handlers) {\n      return resolvers\n    }\n    for (const [name, resolver] of Object.entries(resolvers)) {\n      resolvers[name] = async (...args) => {\n        try {\n          for (const handler of handlers) {\n            await handler(...args)\n          }\n          const result = await resolver(...args)\n          if (postHandlers) {\n            for (const handler of postHandlers) {\n              await handler(result, ...args)\n            }\n          }\n          return result\n        } catch (e) {\n          throw e\n        }\n      }\n    }\n    return resolvers\n  }\n}\n","import autoBind from 'auto-bind'\n\nexport interface LoadersType {\n  [key: string]: { load: (...args) => any }\n}\n\nexport class BaseType {\n  public static applyMiddlewareForLoader(handlers = [], loader, postHandlers = []): any | never {\n    if (!handlers) {\n      return loader\n    }\n    return async args => {\n      try {\n        for (const handler of handlers) {\n          await handler(\n            args[0][1],\n            args[0][2],\n            args[0][3],\n            args.map(([id]) => id)\n          )\n        }\n        const result = await loader(args.map(([id]) => id))\n        if (postHandlers) {\n          for (const handler of postHandlers) {\n            await handler(result, ...args[0])\n          }\n        }\n        return result\n      } catch (e) {\n        throw e\n      }\n    }\n  }\n  protected static $loaders: LoadersType\n\n  constructor() {\n    autoBind(this)\n  }\n\n  public applyMiddlewares(\n    handlers = [],\n    loaders: { [key: string]: (...args) => any } = {},\n    postHandlers = []\n  ): {\n    [key: string]: any\n  } {\n    // return if there is no middlewares\n    if (!handlers) {\n      return loaders\n    }\n\n    // iterate over loaders\n    for (const [name, loader] of Object.entries(loaders)) {\n      // wrap the loader function\n      loaders[name] = async (...args) => {\n        try {\n          // execute handlers\n          for (const handler of handlers) {\n            await handler(...args)\n          }\n          // call loader function\n          const result = await loader(args[0])\n\n          // post handlers\n          if (postHandlers) {\n            for (const handler of postHandlers) {\n              await handler(result, ...args)\n            }\n          }\n          // return the result\n          return result\n        } catch (e) {\n          throw e\n        }\n      }\n    }\n    return loaders\n  }\n}\n","// import {Handler} from \"express\";\n\nexport interface Route {\n  path: string\n  type: RouteType | string\n  handler: Array<any | string>\n  acl: {\n    [key: string]: boolean\n  }\n  disabled?: boolean\n}\n\nexport enum RouteType {\n  GET = 'get',\n  POST = 'post',\n  PUT = 'put',\n  PATCH = 'patch',\n  DELETE = 'delete',\n  HEAD = 'head',\n  OPTIONS = 'options'\n}\n","\"use strict\";\n\n/**\n * Copyright (c) 2019-present, GraphQL Foundation\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n// A Function, which when given an Array of keys, returns a Promise of an Array\n// of values or Errors.\n// Optionally turn off batching or caching or provide a cache key function or a\n// custom cache instance.\n// If a custom cache is provided, it must be of this type (a subset of ES6 Map).\n\n/**\n * A `DataLoader` creates a public API for loading data from a particular\n * data back-end with unique keys such as the `id` column of a SQL table or\n * document name in a MongoDB database, given a batch loading function.\n *\n * Each `DataLoader` instance contains a unique memoized cache. Use caution when\n * used in long-lived applications or those which serve many users with\n * different access permissions and consider creating a new instance per\n * web request.\n */\nvar DataLoader =\n/*#__PURE__*/\nfunction () {\n  function DataLoader(batchLoadFn, options) {\n    if (typeof batchLoadFn !== 'function') {\n      throw new TypeError('DataLoader must be constructed with a function which accepts ' + (\"Array<key> and returns Promise<Array<value>>, but got: \" + batchLoadFn + \".\"));\n    }\n\n    this._batchLoadFn = batchLoadFn;\n    this._maxBatchSize = getValidMaxBatchSize(options);\n    this._batchScheduleFn = getValidBatchScheduleFn(options);\n    this._cacheKeyFn = getValidCacheKeyFn(options);\n    this._cacheMap = getValidCacheMap(options);\n    this._batch = null;\n  } // Private\n\n\n  var _proto = DataLoader.prototype;\n\n  /**\n   * Loads a key, returning a `Promise` for the value represented by that key.\n   */\n  _proto.load = function load(key) {\n    if (key === null || key === undefined) {\n      throw new TypeError('The loader.load() function must be called with a value,' + (\"but got: \" + String(key) + \".\"));\n    }\n\n    var batch = getCurrentBatch(this);\n    var cacheMap = this._cacheMap;\n\n    var cacheKey = this._cacheKeyFn(key); // If caching and there is a cache-hit, return cached Promise.\n\n\n    if (cacheMap) {\n      var cachedPromise = cacheMap.get(cacheKey);\n\n      if (cachedPromise) {\n        var cacheHits = batch.cacheHits || (batch.cacheHits = []);\n        return new Promise(function (resolve) {\n          cacheHits.push(function () {\n            return resolve(cachedPromise);\n          });\n        });\n      }\n    } // Otherwise, produce a new Promise for this key, and enqueue it to be\n    // dispatched along with the current batch.\n\n\n    batch.keys.push(key);\n    var promise = new Promise(function (resolve, reject) {\n      batch.callbacks.push({\n        resolve: resolve,\n        reject: reject\n      });\n    }); // If caching, cache this promise.\n\n    if (cacheMap) {\n      cacheMap.set(cacheKey, promise);\n    }\n\n    return promise;\n  }\n  /**\n   * Loads multiple keys, promising an array of values:\n   *\n   *     var [ a, b ] = await myLoader.loadMany([ 'a', 'b' ]);\n   *\n   * This is similar to the more verbose:\n   *\n   *     var [ a, b ] = await Promise.all([\n   *       myLoader.load('a'),\n   *       myLoader.load('b')\n   *     ]);\n   *\n   * However it is different in the case where any load fails. Where\n   * Promise.all() would reject, loadMany() always resolves, however each result\n   * is either a value or an Error instance.\n   *\n   *     var [ a, b, c ] = await myLoader.loadMany([ 'a', 'b', 'badkey' ]);\n   *     // c instanceof Error\n   *\n   */\n  ;\n\n  _proto.loadMany = function loadMany(keys) {\n    if (!isArrayLike(keys)) {\n      throw new TypeError('The loader.loadMany() function must be called with Array<key> ' + (\"but got: \" + keys + \".\"));\n    } // Support ArrayLike by using only minimal property access\n\n\n    var loadPromises = [];\n\n    for (var i = 0; i < keys.length; i++) {\n      loadPromises.push(this.load(keys[i])[\"catch\"](function (error) {\n        return error;\n      }));\n    }\n\n    return Promise.all(loadPromises);\n  }\n  /**\n   * Clears the value at `key` from the cache, if it exists. Returns itself for\n   * method chaining.\n   */\n  ;\n\n  _proto.clear = function clear(key) {\n    var cacheMap = this._cacheMap;\n\n    if (cacheMap) {\n      var cacheKey = this._cacheKeyFn(key);\n\n      cacheMap[\"delete\"](cacheKey);\n    }\n\n    return this;\n  }\n  /**\n   * Clears the entire cache. To be used when some event results in unknown\n   * invalidations across this particular `DataLoader`. Returns itself for\n   * method chaining.\n   */\n  ;\n\n  _proto.clearAll = function clearAll() {\n    var cacheMap = this._cacheMap;\n\n    if (cacheMap) {\n      cacheMap.clear();\n    }\n\n    return this;\n  }\n  /**\n   * Adds the provided key and value to the cache. If the key already\n   * exists, no change is made. Returns itself for method chaining.\n   *\n   * To prime the cache with an error at a key, provide an Error instance.\n   */\n  ;\n\n  _proto.prime = function prime(key, value) {\n    var cacheMap = this._cacheMap;\n\n    if (cacheMap) {\n      var cacheKey = this._cacheKeyFn(key); // Only add the key if it does not already exist.\n\n\n      if (cacheMap.get(cacheKey) === undefined) {\n        // Cache a rejected promise if the value is an Error, in order to match\n        // the behavior of load(key).\n        var promise;\n\n        if (value instanceof Error) {\n          promise = Promise.reject(value); // Since this is a case where an Error is intentionally being primed\n          // for a given key, we want to disable unhandled promise rejection.\n\n          promise[\"catch\"](function () {});\n        } else {\n          promise = Promise.resolve(value);\n        }\n\n        cacheMap.set(cacheKey, promise);\n      }\n    }\n\n    return this;\n  };\n\n  return DataLoader;\n}(); // Private: Enqueue a Job to be executed after all \"PromiseJobs\" Jobs.\n//\n// ES6 JavaScript uses the concepts Job and JobQueue to schedule work to occur\n// after the current execution context has completed:\n// http://www.ecma-international.org/ecma-262/6.0/#sec-jobs-and-job-queues\n//\n// Node.js uses the `process.nextTick` mechanism to implement the concept of a\n// Job, maintaining a global FIFO JobQueue for all Jobs, which is flushed after\n// the current call stack ends.\n//\n// When calling `then` on a Promise, it enqueues a Job on a specific\n// \"PromiseJobs\" JobQueue which is flushed in Node as a single Job on the\n// global JobQueue.\n//\n// DataLoader batches all loads which occur in a single frame of execution, but\n// should include in the batch all loads which occur during the flushing of the\n// \"PromiseJobs\" JobQueue after that same execution frame.\n//\n// In order to avoid the DataLoader dispatch Job occuring before \"PromiseJobs\",\n// A Promise Job is created with the sole purpose of enqueuing a global Job,\n// ensuring that it always occurs after \"PromiseJobs\" ends.\n//\n// Node.js's job queue is unique. Browsers do not have an equivalent mechanism\n// for enqueuing a job to be performed after promise microtasks and before the\n// next macrotask. For browser environments, a macrotask is used (via\n// setImmediate or setTimeout) at a potential performance penalty.\n\n\nvar enqueuePostPromiseJob = typeof process === 'object' && typeof process.nextTick === 'function' ? function (fn) {\n  if (!resolvedPromise) {\n    resolvedPromise = Promise.resolve();\n  }\n\n  resolvedPromise.then(function () {\n    return process.nextTick(fn);\n  });\n} : setImmediate || setTimeout; // Private: cached resolved Promise instance\n\nvar resolvedPromise; // Private: Describes a batch of requests\n\n// Private: Either returns the current batch, or creates and schedules a\n// dispatch of a new batch for the given loader.\nfunction getCurrentBatch(loader) {\n  // If there is an existing batch which has not yet dispatched and is within\n  // the limit of the batch size, then return it.\n  var existingBatch = loader._batch;\n\n  if (existingBatch !== null && !existingBatch.hasDispatched && existingBatch.keys.length < loader._maxBatchSize && (!existingBatch.cacheHits || existingBatch.cacheHits.length < loader._maxBatchSize)) {\n    return existingBatch;\n  } // Otherwise, create a new batch for this loader.\n\n\n  var newBatch = {\n    hasDispatched: false,\n    keys: [],\n    callbacks: []\n  }; // Store it on the loader so it may be reused.\n\n  loader._batch = newBatch; // Then schedule a task to dispatch this batch of requests.\n\n  loader._batchScheduleFn(function () {\n    return dispatchBatch(loader, newBatch);\n  });\n\n  return newBatch;\n}\n\nfunction dispatchBatch(loader, batch) {\n  // Mark this batch as having been dispatched.\n  batch.hasDispatched = true; // If there's nothing to load, resolve any cache hits and return early.\n\n  if (batch.keys.length === 0) {\n    resolveCacheHits(batch);\n    return;\n  } // Call the provided batchLoadFn for this loader with the batch's keys and\n  // with the loader as the `this` context.\n\n\n  var batchPromise = loader._batchLoadFn(batch.keys); // Assert the expected response from batchLoadFn\n\n\n  if (!batchPromise || typeof batchPromise.then !== 'function') {\n    return failedDispatch(loader, batch, new TypeError('DataLoader must be constructed with a function which accepts ' + 'Array<key> and returns Promise<Array<value>>, but the function did ' + (\"not return a Promise: \" + String(batchPromise) + \".\")));\n  } // Await the resolution of the call to batchLoadFn.\n\n\n  batchPromise.then(function (values) {\n    // Assert the expected resolution from batchLoadFn.\n    if (!isArrayLike(values)) {\n      throw new TypeError('DataLoader must be constructed with a function which accepts ' + 'Array<key> and returns Promise<Array<value>>, but the function did ' + (\"not return a Promise of an Array: \" + String(values) + \".\"));\n    }\n\n    if (values.length !== batch.keys.length) {\n      throw new TypeError('DataLoader must be constructed with a function which accepts ' + 'Array<key> and returns Promise<Array<value>>, but the function did ' + 'not return a Promise of an Array of the same length as the Array ' + 'of keys.' + (\"\\n\\nKeys:\\n\" + String(batch.keys)) + (\"\\n\\nValues:\\n\" + String(values)));\n    } // Resolve all cache hits in the same micro-task as freshly loaded values.\n\n\n    resolveCacheHits(batch); // Step through values, resolving or rejecting each Promise in the batch.\n\n    for (var i = 0; i < batch.callbacks.length; i++) {\n      var value = values[i];\n\n      if (value instanceof Error) {\n        batch.callbacks[i].reject(value);\n      } else {\n        batch.callbacks[i].resolve(value);\n      }\n    }\n  })[\"catch\"](function (error) {\n    return failedDispatch(loader, batch, error);\n  });\n} // Private: do not cache individual loads if the entire batch dispatch fails,\n// but still reject each request so they do not hang.\n\n\nfunction failedDispatch(loader, batch, error) {\n  // Cache hits are resolved, even though the batch failed.\n  resolveCacheHits(batch);\n\n  for (var i = 0; i < batch.keys.length; i++) {\n    loader.clear(batch.keys[i]);\n    batch.callbacks[i].reject(error);\n  }\n} // Private: Resolves the Promises for any cache hits in this batch.\n\n\nfunction resolveCacheHits(batch) {\n  if (batch.cacheHits) {\n    for (var i = 0; i < batch.cacheHits.length; i++) {\n      batch.cacheHits[i]();\n    }\n  }\n} // Private: given the DataLoader's options, produce a valid max batch size.\n\n\nfunction getValidMaxBatchSize(options) {\n  var shouldBatch = !options || options.batch !== false;\n\n  if (!shouldBatch) {\n    return 1;\n  }\n\n  var maxBatchSize = options && options.maxBatchSize;\n\n  if (maxBatchSize === undefined) {\n    return Infinity;\n  }\n\n  if (typeof maxBatchSize !== 'number' || maxBatchSize < 1) {\n    throw new TypeError(\"maxBatchSize must be a positive number: \" + maxBatchSize);\n  }\n\n  return maxBatchSize;\n} // Private\n\n\nfunction getValidBatchScheduleFn(options) {\n  var batchScheduleFn = options && options.batchScheduleFn;\n\n  if (batchScheduleFn === undefined) {\n    return enqueuePostPromiseJob;\n  }\n\n  if (typeof batchScheduleFn !== 'function') {\n    throw new TypeError(\"batchScheduleFn must be a function: \" + batchScheduleFn);\n  }\n\n  return batchScheduleFn;\n} // Private: given the DataLoader's options, produce a cache key function.\n\n\nfunction getValidCacheKeyFn(options) {\n  var cacheKeyFn = options && options.cacheKeyFn;\n\n  if (cacheKeyFn === undefined) {\n    return function (key) {\n      return key;\n    };\n  }\n\n  if (typeof cacheKeyFn !== 'function') {\n    throw new TypeError(\"cacheKeyFn must be a function: \" + cacheKeyFn);\n  }\n\n  return cacheKeyFn;\n} // Private: given the DataLoader's options, produce a CacheMap to be used.\n\n\nfunction getValidCacheMap(options) {\n  var shouldCache = !options || options.cache !== false;\n\n  if (!shouldCache) {\n    return null;\n  }\n\n  var cacheMap = options && options.cacheMap;\n\n  if (cacheMap === undefined) {\n    return new Map();\n  }\n\n  if (cacheMap !== null) {\n    var cacheFunctions = ['get', 'set', 'delete', 'clear'];\n    var missingFunctions = cacheFunctions.filter(function (fnName) {\n      return cacheMap && typeof cacheMap[fnName] !== 'function';\n    });\n\n    if (missingFunctions.length !== 0) {\n      throw new TypeError('Custom cacheMap missing methods: ' + missingFunctions.join(', '));\n    }\n  }\n\n  return cacheMap;\n} // Private\n\n\nfunction isArrayLike(x) {\n  return typeof x === 'object' && x !== null && typeof x.length === 'number' && (x.length === 0 || x.length > 0 && Object.prototype.hasOwnProperty.call(x, x.length - 1));\n}\n\nmodule.exports = DataLoader;","import DataLoader from 'dataloader'\n\nexport class Loader {\n  public static get(\n    func: (...args) => any,\n    options: any = {\n      cacheKeyFn: ([id]) => id\n    }\n  ): DataLoader<any, any> {\n    const loader = new DataLoader(ids => {\n      return func(ids)\n    }, options)\n    loader.load = loader.load.bind(loader)\n    return loader\n  }\n}\n","import autoBind from 'auto-bind'\n\nexport abstract class BaseMiddleware {\n  // @ts-ignore\n  protected app: any\n\n  constructor(app: any) {\n    autoBind(this)\n    this.app = app\n  }\n\n  public abstract default(args: any): void\n}\n","import autoBind from 'auto-bind'\n\nexport abstract class BaseMiddlewareGql {\n  // @ts-ignore\n  protected app: any\n\n  constructor(app: any) {\n    autoBind(this)\n    this.app = app\n  }\n\n  public abstract default(args: any, ctx: { req: any; res: any; next: any }, info: any): void\n}\n"],"names":["RouteType","DataLoader"],"mappings":"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"}