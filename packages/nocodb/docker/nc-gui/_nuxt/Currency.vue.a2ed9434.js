import{h as N,S as U,$ as i,T as V,i as v,r as c,k as D,E as l,aV as I,eD as j,o as u,c as r,H as F,b6 as t,cF as n,t as g}from"./entry.13466615.js";import{C as B,E as z,x as K}from"./index.5263eb1d.js";import{p as L}from"./useMetas.223da623.js";const O={key:1,class:"nc-null"},T={key:2},G={key:3},$=N({__name:"Currency",props:{modelValue:{}},emits:["update:modelValue","save"],setup(w,{emit:m}){const M=w,{showNull:x}=U(),a=i(B),f=i(z),p=V(M,"modelValue",m),s=v({get:()=>p.value,set:o=>{o===""?p.value=null:p.value=o}}),d=c(),y=v(()=>{var o;return{currency_locale:"en-US",currency_code:"USD",...L((o=a==null?void 0:a.value)==null?void 0:o.meta)}}),S=v(()=>{try{return s.value===null||s.value===void 0||isNaN(s.value)?s.value:new Intl.NumberFormat(y.value.currency_locale||"en-US",{style:"currency",currency:y.value.currency_code||"USD"}).format(s.value)}catch{return s.value}}),b=i(K,c(!1)),k=o=>!b.value&&(o==null?void 0:o.focus()),C=()=>{d.value!==s.value&&(s.value=d.value=s.value??null,m("save")),f.value=!1};return D(()=>{d.value=s.value}),(o,e)=>l(f)?I((u(),r("input",{key:0,ref:k,"onUpdate:modelValue":e[0]||(e[0]=E=>F(s)?s.value=E:null),type:"number",class:"w-full h-full border-none outline-none px-2",onBlur:C,onKeydown:[e[1]||(e[1]=t(n(()=>{},["stop"]),["down"])),e[2]||(e[2]=t(n(()=>{},["stop"]),["left"])),e[3]||(e[3]=t(n(()=>{},["stop"]),["right"])),e[4]||(e[4]=t(n(()=>{},["stop"]),["up"])),e[5]||(e[5]=t(n(()=>{},["stop"]),["delete"])),e[6]||(e[6]=t(n(()=>{},["ctrl","stop"]),["z"])),e[7]||(e[7]=t(n(()=>{},["meta","stop"]),["z"]))],onSelectstartCapture:e[8]||(e[8]=n(()=>{},["stop"])),onMousedown:e[9]||(e[9]=n(()=>{},["stop"])),onContextmenu:e[10]||(e[10]=n(()=>{},["stop"]))},null,544)),[[j,l(s)]]):l(s)===null&&l(x)?(u(),r("span",O,"NULL")):isNaN(l(s))?(u(),r("span",G)):(u(),r("span",T,g(l(S)),1))}});export{$ as _};
