import{h as x,cZ as w,T as b,r as p,aq as d,e4 as k,o as i,C as m,w as h,c as C,aj as g,cp as V,E as f,d as L,t as B,H as M}from"./entry.51f4e399.js";import{S,_ as y}from"./index.5e746f62.js";import"./toArray.06afb623.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.b13a9257.js";import"./useMergedState.5e6500b1.js";import"./useState.6010d8b6.js";import"./DownOutlined.db6f6406.js";import"./CheckOutlined.ef30fafc.js";import"./SearchOutlined.dec109ce.js";import"./FormItemContext.e001cd7c.js";const O=x({__name:"ChannelMultiSelect",props:{modelValue:{},availableChannelList:{},placeholder:{}},emits:["update:modelValue"],setup(r,{emit:v}){const c=w(r,["availableChannelList","placeholder"]),_=b(c,"modelValue",v),n=p([]),s=p([]);function u(a){if(a.length){let o=0;s.value=a.map(l=>({...l,idx:o++}));for(const l of c.modelValue||[]){const t=s.value.find(e=>e.webhook_url===l.webhook_url&&e.channel===l.channel);t&&n.value.push(t.idx)}}}return d(()=>r.availableChannelList,(a,o)=>{a!==o&&u(a)}),d(()=>n.value,a=>{const o=[];for(const l of a){const t=s.value.find(e=>e.idx===l);t&&o.push({webhook_url:t.webhook_url,channel:t.channel})}_.value=o}),k(()=>u(r.availableChannelList)),(a,o)=>{const l=S,t=y;return i(),m(t,{value:f(n),"onUpdate:value":o[0]||(o[0]=e=>M(n)?n.value=e:null),mode:"multiple",placeholder:a.placeholder,"max-tag-count":"responsive","dropdown-class-name":"nc-dropdown-webhook-channel"},{default:h(()=>[(i(!0),C(g,null,V(f(s),e=>(i(),m(l,{key:e.idx,value:e.idx},{default:h(()=>[L(B(e.channel),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])}}});export{O as default};
