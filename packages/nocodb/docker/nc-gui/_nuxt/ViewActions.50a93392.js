import{o as a,c as _,a as S,h as me,A as ve,r as i,$ as C,i as W,gy as p,cI as ye,b as s,w as c,E as e,C as r,aV as g,D as y,F as f,W as u,d as D,t as R,aj as B,cp as F,I as H,H as x,Q as d,R as m,J as N,K as fe,fR as he,L as ke,M as we,c5 as ge,fw as xe,gz as Le,N as Ve,P as be,p as Te,e as Ie,f as Ce}from"./entry.13466615.js";import{b as De,A as Se,d as $e,M as Ee}from"./index.5263eb1d.js";import{u as ze}from"./index.f13259f4.js";import{a as Ae}from"./useMetas.223da623.js";import{a as Pe}from"./useSmartsheetStore.9bdf3b91.js";import{u as Re}from"./index.e7cf7635.js";import{D as Be}from"./index.82f05b6c.js";import{_ as Ne}from"./_plugin-vue_export-helper.c27b6911.js";import"./views.3cd4bcb9.js";import"./useSharedView.746b4f21.js";import"./index.2a3da6a9.js";import"./Dropdown.a78be736.js";import"./RightOutlined.2c092523.js";const je={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Me=S("path",{fill:"currentColor",d:"M18.08 17.8c-.46.13-.87.2-1.23.2c-1.2 0-2.01-.88-2.42-2.65h-.05c-.99 1.91-2.38 2.86-4.13 2.86c-1.31 0-2.36-.49-3.15-1.48S5.92 14.5 5.92 13c0-1.75.45-3.15 1.34-4.24c.89-1.09 2.1-1.64 3.63-1.64c.82 0 1.56.23 2.2.68c.64.46 1.13 1.1 1.47 1.93h.04l.71-2.4h2.56l-2.14 5.32c.24 1.24.49 2.09.77 2.54c.24.45.58.68 1 .68c.24 0 .43-.04.6-.11l-.02 2.04m-4.26-5.24c-.21-1.13-.55-2.01-1.01-2.61c-.45-.61-1-.91-1.63-.91c-.82 0-1.48.37-1.97 1.1c-.49.74-.71 1.65-.71 2.72c0 .98.19 1.79.62 2.45c.42.66.99.98 1.7.98c.6 0 1.15-.29 1.64-.84c.5-.57.91-1.4 1.24-2.49l.12-.4Z"},null,-1),Ue=[Me];function Oe(t,j){return a(),_("svg",je,Ue)}const qe={name:"mdi-alpha",render:Oe},We=d(()=>m(()=>import("./LockType.b0a22fb5.js"),["./LockType.b0a22fb5.js","./Icon.vue.e15b8911.js","./entry.13466615.js","./entry.0f786d51.css","./index.5263eb1d.js","./_plugin-vue_export-helper.c27b6911.js","./LockType.d221cae6.css"],import.meta.url).then(t=>t.default||t)),Fe=d(()=>m(()=>import("./ExportSubActions.6b1a6ae4.js"),["./ExportSubActions.6b1a6ae4.js","./entry.13466615.js","./entry.0f786d51.css","./useSharedView.746b4f21.js","./useMetas.223da623.js","./index.5263eb1d.js","./useSmartsheetStore.9bdf3b91.js","./views.3cd4bcb9.js","./index.2a3da6a9.js"],import.meta.url).then(t=>t.default||t)),He=d(()=>m(()=>import("./QuickImport.fcc0fd6b.js"),["./QuickImport.fcc0fd6b.js","./QuickImport.vue.13f30a49.js","./entry.13466615.js","./entry.0f786d51.css","./validation.5ed31fc1.js","./useMetas.223da623.js","./index.6f605a00.js","./FormItem.fe59dafe.js","./identity.b813b76e.js","./isSymbol.b9109ae5.js","./_getPrototype.00be30f0.js","./Col.23d910dc.js","./responsiveObserve.9209e727.js","./toArray.f6fa5a71.js","./toNumber.7aa6a805.js","./FormItemContext.27b2e5db.js","./useSize.dec45296.js","./_flatRest.037bf8e3.js","./debounce.dbc9bf77.js","./isPlainObject.4c0f42f1.js","./Password.d7b16461.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./CheckOutlined.80115d65.js","./useRefs.6ea70d5c.js","./useMergedState.1cc2a884.js","./index.62e3d60f.js","./Dropdown.a78be736.js","./useState.a6853ebd.js","./isMobile.e2e89480.js","./index.a8ef1b7e.js","./SearchOutlined.c1eed30a.js","./TextArea.1bd4034f.js","./index.1669d181.js","./index.7bdf0a46.js","./DownOutlined.9cfe3e0c.js","./index.2660048d.js","./Checkbox.65681aa3.js","./createForOfIteratorHelper.37be2624.js","./index.f2e6837c.js"],import.meta.url).then(t=>t.default||t)),Qe=d(()=>m(()=>import("./Drawer.049cf6e0.js"),["./Drawer.049cf6e0.js","./entry.13466615.js","./entry.0f786d51.css","./index.a0a88763.js","./isNumeric.3f69e2aa.js","./RightOutlined.2c092523.js","./LeftOutlined.b2689280.js","./index.44870401.js"],import.meta.url).then(t=>t.default||t)),Je=d(()=>m(()=>import("./Erd.b7c2bb54.js"),["./Erd.b7c2bb54.js","./entry.13466615.js","./entry.0f786d51.css","./useMetas.223da623.js","./Erd.50704106.css"],import.meta.url).then(t=>t.default||t)),Ke=d(()=>m(()=>import("./SharedViewList.97537290.js"),["./SharedViewList.97537290.js","./ViewIcon.vue.8aa1efd9.js","./entry.13466615.js","./entry.0f786d51.css","./ViewIcon.fd2d300a.css","./nuxt-link.d273ea3b.js","./useMetas.223da623.js","./useCopy.a0671815.js","./useDashboard.34dd8f64.js","./useSmartsheetStore.9bdf3b91.js","./views.3cd4bcb9.js","./useSharedView.746b4f21.js","./index.5263eb1d.js","./index.2a3da6a9.js","./index.66af8095.js","./eagerComputed.9d79768b.js","./useState.a6853ebd.js","./index.f2e6837c.js","./debounce.dbc9bf77.js","./toNumber.7aa6a805.js","./isSymbol.b9109ae5.js","./index.bc4f5185.js","./LeftOutlined.b2689280.js","./RightOutlined.2c092523.js","./index.4385a501.js","./toArray.f6fa5a71.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.4991ab9d.js","./useMergedState.1cc2a884.js","./DownOutlined.9cfe3e0c.js","./CheckOutlined.80115d65.js","./SearchOutlined.c1eed30a.js","./FormItemContext.27b2e5db.js","./useBreakpoint.66a79637.js","./responsiveObserve.9209e727.js","./index.9d81d9da.js","./index.2660048d.js","./Checkbox.65681aa3.js","./createForOfIteratorHelper.37be2624.js","./index.82f05b6c.js","./Dropdown.a78be736.js","./index.1041b981.js","./index.a8ef1b7e.js","./Input.16966097.js","./isPlainObject.4c0f42f1.js","./_getPrototype.00be30f0.js","./TextArea.1bd4034f.js","./Password.d7b16461.js","./_plugin-vue_export-helper.c27b6911.js","./SharedViewList.d53188fa.css"],import.meta.url).then(t=>t.default||t)),Ze=d(()=>m(()=>import("./ApiSnippet.945007cb.js"),["./ApiSnippet.945007cb.js","./entry.13466615.js","./entry.0f786d51.css","./index.5263eb1d.js","./useCopy.a0671815.js","./useMetas.223da623.js","./useSmartsheetStore.9bdf3b91.js","./views.3cd4bcb9.js","./useSharedView.746b4f21.js","./index.2a3da6a9.js","./useViewData.c2e6f1c7.js","./virtualCell.88c63e03.js","./dataUtils.31dbfaee.js","./index.e7cf7635.js","./index.f1457320.js","./index.62e3d60f.js","./Dropdown.a78be736.js","./useState.a6853ebd.js","./useRefs.6ea70d5c.js","./identity.b813b76e.js","./isSymbol.b9109ae5.js","./_flatRest.037bf8e3.js","./isMobile.e2e89480.js","./useMergedState.1cc2a884.js","./Title.f7235aba.js","./TextArea.1bd4034f.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./FormItemContext.27b2e5db.js","./CheckOutlined.80115d65.js","./index.4385a501.js","./toArray.f6fa5a71.js","./useMemo.4991ab9d.js","./DownOutlined.9cfe3e0c.js","./SearchOutlined.c1eed30a.js","./index.44870401.js","./_plugin-vue_export-helper.c27b6911.js","./ApiSnippet.4e384237.css"],import.meta.url).then(t=>t.default||t)),J=t=>(Te("data-v-310ef246"),t=t(),Ie(),t);const Ge={class:"nc-project-menu-item group"},Xe=J(()=>S("div",{class:"flex-1"},null,-1)),Ye={class:"nc-project-menu-item group"},et=J(()=>S("div",{class:"flex-1"},null,-1)),tt=["onClick"],ot={class:"flex items-center text-gray-400"},nt={class:"nc-project-menu-item group px-0 !py-0"},Q=!1,at=me({__name:"ViewActions",setup(t){const{t:j}=ve(),h=i(!1),M=C(De,i(!1)),{$api:K,$e:Z}=Ce(),{isSqlView:G}=Pe(),L=C(Se,i()),U=C($e,i(!1)),V=i(!1),$=i(!1),E=i(!1),O=["csv","excel"],z=O.reduce((l,n)=>(l[n]=i(!1),l),{}),{isUIAllowed:b}=Re();Ae();const X=C(Ee,i()),q=W(()=>{var l;return(l=X.value)==null?void 0:l.base_id}),Y=W(()=>{var l;return((l=L.value)==null?void 0:l.lock_type)||p.Collaborative});async function A(l){if(Z("a:grid:lockmenu",{lockType:l}),!!L.value){if(l==="personal")return N.info(j("msg.toast.futureRelease"));try{L.value.lock_type=l,await K.dbView.update(L.value.id,{lock_type:l}),N.success(`Successfully Switched to ${l} view`)}catch(n){N.error(await fe(n))}}}const k=i(!1);return ze(k),(l,n)=>{const ee=he,te=ke,T=We,I=we,P=ge,oe=xe,ne=Fe,ae=qe,le=Le,se=Ve,ce=Be,re=He,ie=Qe,_e=Je,pe=Ke,ue=be,de=Ze,w=ye("e");return a(),_("div",null,[s(ce,{visible:e(k),"onUpdate:visible":n[7]||(n[7]=o=>x(k)?k.value=o:null),trigger:["click"],"overlay-class-name":"nc-dropdown-actions-menu",placement:"bottomLeft"},{overlay:c(()=>[s(se,{class:"ml-6 !text-sm !px-0 !py-2 !rounded","data-testid":"toolbar-actions",onClick:n[6]||(n[6]=o=>k.value=!1)},{default:c(()=>[s(le,null,{default:c(()=>[(e(b)("view-type"),u("",!0)),s(oe),s(P,{key:"download"},{title:c(()=>[g((a(),_("div",Ge,[(a(),r(y(e(f).cloudDownload),{class:"text-gray-500 group-hover:text-accent"})),D(" "+R(l.$t("general.download"))+" ",1),Xe,(a(),r(y(e(f).arrowRight),{class:"transform group-hover:scale-115 text-gray-400"}))])),[[w,["c:navdraw:preview-as"]]])]),expandIcon:c(()=>[]),default:c(()=>[s(ne)]),_:1}),e(b)("csvImport")&&!Q&&!e(M)&&!e(G)?(a(),r(P,{key:"upload"},{title:c(()=>[g((a(),_("div",Ye,[(a(),r(y(e(f).upload),{class:"text-gray-500 group-hover:text-accent"})),D(" "+R(l.$t("general.upload"))+" ",1),et,(a(),r(y(e(f).arrowRight),{class:"transform group-hover:scale-115 text-gray-400"}))])),[[w,["c:navdraw:preview-as"]]])]),expandIcon:c(()=>[]),default:c(()=>[(a(!0),_(B,null,F(e(z),(o,v)=>(a(),_(B,null,[e(b)(`${v}Import`)&&!Q&&!e(M)?(a(),r(I,{key:v},{default:c(()=>[g((a(),_("div",{class:H(["nc-project-menu-item",{disabled:e(U)}]),onClick:lt=>e(U)?{}:o.value=!0},[(a(),r(y(e(f).upload),{class:"text-gray-500"})),D(" "+R(`${l.$t("general.upload")} ${v.toUpperCase()}`)+" ",1),S("div",ot,[s(ae),D("version")])],10,tt)),[[w,[`a:actions:upload-${v}`]]])]),_:2},1024)):u("",!0)],64))),256))]),_:1})):u("",!0)]),_:1}),e(b)("view-type")?(a(),r(P,{key:"lock-type",class:"scrollbar-thin-dull min-w-50 max-h-90vh overflow-auto !py-0"},{title:c(()=>[g((a(),_("div",nt,[s(T,{"hide-tick":"",type:e(Y)},null,8,["type"]),(a(),r(y(e(f).arrowRight),{class:"transform group-hover:scale-115 group-hover:text-accent text-gray-400"}))])),[[w,["c:navdraw:preview-as"]]])]),expandIcon:c(()=>[]),default:c(()=>[s(I,{onClick:n[3]||(n[3]=o=>A(e(p).Collaborative))},{default:c(()=>[s(T,{type:e(p).Collaborative},null,8,["type"])]),_:1}),s(I,{onClick:n[4]||(n[4]=o=>A(e(p).Locked))},{default:c(()=>[s(T,{type:e(p).Locked},null,8,["type"])]),_:1}),s(I,{onClick:n[5]||(n[5]=o=>A(e(p).Personal))},{default:c(()=>[s(T,{type:e(p).Personal},null,8,["type"])]),_:1})]),_:1})):u("",!0)]),_:1})]),default:c(()=>[g((a(),r(te,{class:"nc-actions-menu-btn nc-toolbar-btn !border-0 !rounded-md !py-1 !px-2"},{default:c(()=>[s(ee,{class:"!w-4 !h-4"})]),_:1})),[[w,["c:actions"]]])]),_:1},8,["visible"]),e(q)?(a(),_(B,{key:0},F(O,o=>s(re,{key:o,modelValue:e(z)[o].value,"onUpdate:modelValue":v=>e(z)[o].value=v,"import-type":o,"base-id":e(q),"import-data-only":!0},null,8,["modelValue","onUpdate:modelValue","import-type","base-id"])),64)):u("",!0),e(V)?(a(),r(ie,{key:1,modelValue:e(V),"onUpdate:modelValue":n[8]||(n[8]=o=>x(V)?V.value=o:null)},null,8,["modelValue"])):u("",!0),s(_e,{modelValue:e(E),"onUpdate:modelValue":n[9]||(n[9]=o=>x(E)?E.value=o:null)},null,8,["modelValue"]),s(ue,{visible:e(h),"onUpdate:visible":n[10]||(n[10]=o=>x(h)?h.value=o:null),class:H({active:e(h)}),title:l.$t("activity.listSharedView"),width:"max(900px,60vw)",footer:null,"wrap-class-name":"nc-modal-shared-view-list"},{default:c(()=>[e(h)?(a(),r(pe,{key:0})):u("",!0)]),_:1},8,["visible","class","title"]),s(de,{modelValue:e($),"onUpdate:modelValue":n[11]||(n[11]=o=>x($)?$.value=o:null)},null,8,["modelValue"])])}}});const kt=Ne(at,[["__scopeId","data-v-310ef246"]]);export{kt as default};
