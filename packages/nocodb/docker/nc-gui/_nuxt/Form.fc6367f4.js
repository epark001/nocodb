import{h as at,Z as ce,r as v,cd as b,S as rt,B as st,$ as me,i as it,A as nt,g5 as lt,aq as ye,fp as dt,k as ut,fb as ct,cI as mt,E as a,o as n,C as g,w as u,b as l,c as w,a as s,t as h,W as y,d as we,f3 as X,H as ke,cF as D,D as xe,F as Ce,b6 as pt,I as pe,aV as B,Q as j,R as N,cg as ft,fO as $e,J as P,eW as qe,f4 as fe,L as _t,p as vt,e as ht,f as gt,K as bt}from"./entry.13466615.js";import{_ as yt}from"./EditOrAddProvider.vue.9fbafb18.js";import{c as wt,u as kt,M as xt,A as Ct,b as $t,R as qt}from"./index.5263eb1d.js";import{u as St}from"./useSmartsheetRowStore.ef2cd001.js";import{u as Rt}from"./useBetaFeatureToggle.52c326cd.js";import{u as It}from"./index.e7cf7635.js";import{u as At}from"./useViewColumns.21ea359e.js";import{u as Ft}from"./useViewData.c2e6f1c7.js";import{D as Se}from"./vuedraggable.umd.8d33c631.js";import{C as Et}from"./index.3cc83813.js";import{D as Vt}from"./index.82f05b6c.js";import"./index.a8ef1b7e.js";import{I as Dt}from"./Input.16966097.js";import{F as Ot}from"./index.6f605a00.js";import{_ as Tt}from"./index.2c1df8bc.js";import{_ as Ut}from"./index.89133b21.js";import{_ as Lt}from"./index.638acbb4.js";import{_ as Mt}from"./TextArea.1bd4034f.js";import{_ as zt}from"./FormItem.fe59dafe.js";import{_ as Bt}from"./index.7677ce8f.js";import{_ as Pt}from"./index.1669d181.js";import{_ as jt}from"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.vue.e15b8911.js";import"./Button.vue.a83cab3b.js";import"./index.f2e6837c.js";import"./debounce.dbc9bf77.js";import"./toNumber.7aa6a805.js";import"./isSymbol.b9109ae5.js";import"./index.2ae12d3e.js";import"./validation.5ed31fc1.js";import"./useMetas.223da623.js";import"./index.2660048d.js";import"./Checkbox.65681aa3.js";import"./FormItemContext.27b2e5db.js";import"./createForOfIteratorHelper.37be2624.js";import"./index.4385a501.js";import"./toArray.f6fa5a71.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.4991ab9d.js";import"./useMergedState.1cc2a884.js";import"./useState.a6853ebd.js";import"./DownOutlined.9cfe3e0c.js";import"./CheckOutlined.80115d65.js";import"./SearchOutlined.c1eed30a.js";import"./deepCompare.d32ec333.js";import"./dataUtils.31dbfaee.js";import"./virtualCell.88c63e03.js";import"./index.2a3da6a9.js";import"./useSharedView.746b4f21.js";import"./useSmartsheetStore.9bdf3b91.js";import"./views.3cd4bcb9.js";import"./index.62e3d60f.js";import"./Dropdown.a78be736.js";import"./useRefs.6ea70d5c.js";import"./identity.b813b76e.js";import"./_flatRest.037bf8e3.js";import"./isPlainObject.4c0f42f1.js";import"./_getPrototype.00be30f0.js";import"./RightOutlined.2c092523.js";import"./Password.d7b16461.js";import"./useSize.dec45296.js";import"./Col.23d910dc.js";import"./responsiveObserve.9209e727.js";const Nt=j(()=>N(()=>import("./VirtualCell.79aff6cf.js"),["./VirtualCell.79aff6cf.js","./entry.13466615.js","./entry.0f786d51.css","./EditOrAddProvider.vue.9fbafb18.js","./Icon.vue.e15b8911.js","./Button.vue.a83cab3b.js","./index.f2e6837c.js","./debounce.dbc9bf77.js","./toNumber.7aa6a805.js","./isSymbol.b9109ae5.js","./_plugin-vue_export-helper.c27b6911.js","./Button.95d2a5ed.css","./useBetaFeatureToggle.52c326cd.js","./index.5263eb1d.js","./index.2ae12d3e.js","./validation.5ed31fc1.js","./useMetas.223da623.js","./index.6f605a00.js","./FormItem.fe59dafe.js","./identity.b813b76e.js","./_getPrototype.00be30f0.js","./Col.23d910dc.js","./responsiveObserve.9209e727.js","./toArray.f6fa5a71.js","./FormItemContext.27b2e5db.js","./useSize.dec45296.js","./_flatRest.037bf8e3.js","./isPlainObject.4c0f42f1.js","./index.a8ef1b7e.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.c1eed30a.js","./TextArea.1bd4034f.js","./Password.d7b16461.js","./index.2660048d.js","./Checkbox.65681aa3.js","./createForOfIteratorHelper.37be2624.js","./index.4385a501.js","./isMobile.e2e89480.js","./useMemo.4991ab9d.js","./useMergedState.1cc2a884.js","./useState.a6853ebd.js","./DownOutlined.9cfe3e0c.js","./CheckOutlined.80115d65.js","./EditOrAddProvider.44ca9c5b.css","./virtualCell.88c63e03.js","./index.e7cf7635.js","./index.82f05b6c.js","./Dropdown.a78be736.js","./RightOutlined.2c092523.js","./VirtualCell.23f24363.css"],import.meta.url).then(f=>f.default||f)),Ht=j(()=>N(()=>import("./Cell.80a8ff87.js"),["./Cell.80a8ff87.js","./entry.13466615.js","./entry.0f786d51.css","./CellIcon.8e3c7692.js","./index.5263eb1d.js","./cell.b6c2deed.js","./useMetas.223da623.js","./EditOrAddProvider.vue.9fbafb18.js","./Icon.vue.e15b8911.js","./Button.vue.a83cab3b.js","./index.f2e6837c.js","./debounce.dbc9bf77.js","./toNumber.7aa6a805.js","./isSymbol.b9109ae5.js","./_plugin-vue_export-helper.c27b6911.js","./Button.95d2a5ed.css","./useBetaFeatureToggle.52c326cd.js","./index.2ae12d3e.js","./validation.5ed31fc1.js","./index.6f605a00.js","./FormItem.fe59dafe.js","./identity.b813b76e.js","./_getPrototype.00be30f0.js","./Col.23d910dc.js","./responsiveObserve.9209e727.js","./toArray.f6fa5a71.js","./FormItemContext.27b2e5db.js","./useSize.dec45296.js","./_flatRest.037bf8e3.js","./isPlainObject.4c0f42f1.js","./index.a8ef1b7e.js","./Input.16966097.js","./antInputDirective.8ac36ea7.js","./SearchOutlined.c1eed30a.js","./TextArea.1bd4034f.js","./Password.d7b16461.js","./index.2660048d.js","./Checkbox.65681aa3.js","./createForOfIteratorHelper.37be2624.js","./index.4385a501.js","./isMobile.e2e89480.js","./useMemo.4991ab9d.js","./useMergedState.1cc2a884.js","./useState.a6853ebd.js","./DownOutlined.9cfe3e0c.js","./CheckOutlined.80115d65.js","./EditOrAddProvider.44ca9c5b.css","./index.e7cf7635.js","./index.82f05b6c.js","./Dropdown.a78be736.js","./RightOutlined.2c092523.js","./Cell.c77dfd55.css"],import.meta.url).then(f=>f.default||f)),Wt=j(()=>N(()=>import("./VirtualCell.6403155c.js"),["./VirtualCell.6403155c.js","./entry.13466615.js","./entry.0f786d51.css","./index.5263eb1d.js","./virtualCell.88c63e03.js"],import.meta.url).then(f=>f.default||f)),Gt=j(()=>N(()=>import("./Cell.2ddf952b.js"),["./Cell.2ddf952b.js","./entry.13466615.js","./entry.0f786d51.css","./index.5263eb1d.js","./cell.b6c2deed.js","./useMetas.223da623.js","./useSmartsheetRowStore.ef2cd001.js","./deepCompare.d32ec333.js","./dataUtils.31dbfaee.js","./virtualCell.88c63e03.js","./index.2a3da6a9.js","./_plugin-vue_export-helper.c27b6911.js","./Cell.69966cf7.css"],import.meta.url).then(f=>f.default||f)),Kt=j(()=>N(()=>import("./DivDataCell.7311abb6.js"),["./DivDataCell.7311abb6.js","./index.5263eb1d.js","./entry.13466615.js","./entry.0f786d51.css"],import.meta.url).then(f=>f.default||f)),Jt=f=>(vt("data-v-11c9d860"),f=f(),ht(),f),Qt={key:0,class:"items-center justify-center text-center mt-2"},Zt={class:"text-center"},Xt={key:0,class:"text-gray-400 mt-4"},Yt={key:1,class:"text-center mt-4"},eo={class:"flex flex-wrap gap-2"},to={class:"flex-1 text-lg"},oo={class:"flex flex-wrap gap-2 mb-4"},ao={class:"flex"},ro={class:"flex flex-1"},so={class:"my-4 select-none border-dashed border-2 border-gray-400 py-3 text-gray-400 text-center nc-drag-n-drop-to-hide","data-testid":"nc-drag-n-drop-to-hide"},io={class:"flex items-center flex-wrap justify-center gap-2 prose-sm text-gray-400"},no={class:"color-transition group-hover:text-primary break-words"},lo=Jt(()=>s("div",{class:"h-[200px] bg-primary bg-opacity-75"},null,-1)),uo={key:0,class:"px-4 lg:px-12"},co={key:1,class:"px-4 ml-3 w-full text-bold text-4xl"},mo={key:2,class:"px-4 lg:px-12"},po={key:3,class:"px-4 ml-3 w-full text-bold text-md"},fo=["onClick"],_o={key:0,class:"absolute flex top-2 right-2"},vo={key:1,class:"flex flex-col gap-3 mb-3"},ho={class:"flex gap-2 items-center"},go=["onClick"],bo={class:"flex gap-2 items-center"},yo=["onClick"],wo={class:"nc-form-help-text text-gray-500 text-xs","data-testid":"nc-form-input-help-text-label"},ko={key:0,class:"mt-4 border-dashed border-2 border-gray-400 py-3 text-gray-400 text-center"},xo={class:"justify-center flex mt-6"},Co=["disabled"],$o={key:0,class:"px-4 flex flex-col gap-2"},qo={class:"text-lg text-gray-700"},So={class:"text-gray-500 text-bold"},Ro={class:"flex flex-col gap-2 mt-4"},Io={class:"flex items-center"},Ao={class:"ml-4"},Fo={class:"flex items-center"},Eo={class:"ml-4"},Vo={class:"mb-12 flex items-center"},Do={class:"ml-4"},Oo={class:"text-bold text-gray-600"},To=at({__name:"Form",setup(f){ce(wt,v(!0)),ce(kt,v(!1));const Re=["created_at","updated_at"],_e=[b.Rollup,b.Lookup,b.Formula,b.QrCode,b.Barcode,b.SpecificDBType],Y=rt(),ve=v(),{$api:he,$e:H}=gt(),{isUIAllowed:ee}=It(),q=st({}),te=v(0),S=ee("editFormView"),E=me(xt,v()),oe=me(Ct,v()),Ie=me($t,v(!1)),{loadFormView:ae,insertRow:Ae,formColumnData:re,formViewData:i,updateFormView:Fe}=Ft(E,oe),O=ft();ce(qt,O),O.on(async()=>{await ae(),le()});const{showAll:Ee,hideAll:Ve,saveOrUpdate:W}=At(oe,E,async()=>O.trigger()),{syncLTARRefs:De,row:Oe}=St(E,v({row:q,oldRow:{},rowMeta:{new:!0}})),se=it(()=>{var e;return((e=E==null?void 0:E.value)==null?void 0:e.columns)||[]}),d=v([]),G=v([]),ge=v(),K=v([]),R=v(!1),ie=v(!1),J=v(!1),I=v(!1),T=v(!1),Q=v(""),U=v([]),{t:ne}=nt(),{betaFeatureToggleState:Te}=Rt(),x=$e(()=>{var e,o;if((((o=(e=i.value)==null?void 0:e.subheading)==null?void 0:o.length)||0)>255)return P.error(ne("msg.error.formDescriptionTooLong"));Fe(i.value)},300,{maxWait:2e3});async function Ue(){var o;try{await((o=ve.value)==null?void 0:o.validateFields())}catch(r){if(r.errorFields.map(_=>P.error(_.errors.join(","))),r.errorFields.length)return}const e=await Ae({row:q,oldRow:{},rowMeta:{new:!0}});e&&await De(e),T.value=!0}function Le(e){if(Re.includes(e.fk_column_id))return!1;let o=!X(e)&&e.rqd&&!e.cdf&&!se.value.some(r=>{var _;return qe(r.uidt)&&((_=r==null?void 0:r.colOptions)==null?void 0:_.type)===fe.BELONGS_TO&&e.fk_column_id===r.colOptions.fk_child_column_id})||e.pk&&!e.ai&&!e.cdf;if(e.uidt===b.LinkToAnotherRecord&&e.colOptions.type===fe.BELONGS_TO){const r=se.value.find(_=>_.id===e.colOptions.fk_child_column_id);r.rqd&&!r.default&&(o=!0)}return o}function Me(e){if(e.from!==e.to&&L(e.draggedContext.element))return!1}function ze(e){var k,C,p;const{newIndex:o,element:r,oldIndex:_}=e.added||e.moved||e.removed;if(e.added&&(r.show=!0),e.removed){if(L(r))return;r.show=!1,W(r,_)}else!d.value.length||d.value.length===1?r.order=1:d.value.length-1===o?r.order=(((k=d.value[o-1])==null?void 0:k.order)||0)+1:o===0?r.order=(((C=d.value[1])==null?void 0:C.order)||0)/2:r.order=((((p=d.value[o-1])==null?void 0:p.order)||0)+(d.value[o+1].order||0))/2,W(r,o);H("a:form-view:reorder")}function Be(e){if(L(d.value[e])){P.info(ne("msg.info.requriedFieldsCantBeMoved"));return}W({...d.value[e],show:!1},e),O.trigger(),H("a:form-view:hide-columns")}async function Pe(){for(const e of d==null?void 0:d.value)K.value.includes(e.fk_column_id)||(e.show=!0);await Ee(K.value),H("a:form-view:add-all")}function L(e){return Le(e)||!!e.required||!!e.rqd&&!e.cdf||e.uidt===b.QrCode||e.uidt===b.Barcode}async function je(){for(const e of d==null?void 0:d.value)L(e)||(e.show=!1);await Ve(d==null?void 0:d.value.filter(e=>L(e)).map(e=>e.fk_column_id)),H("a:form-view:remove-all")}async function Ne(){return I.value&&!await he.plugin.status("SMTP")?(I.value=!1,P.info(ne("msg.toast.formEmailSMTP")),!1):!0}function le(){var r,_,k,C;const e=(re==null?void 0:re.value)||[];i.value={...i.value,submit_another_form:!!(((r=i.value)==null?void 0:r.submit_another_form)??0),show_blank_form:!!(((_=i.value)==null?void 0:_.show_blank_form)??0)};let o={};try{o=JSON.parse(((k=i.value)==null?void 0:k.email)||"")||{}}catch{}I.value=o[(C=Y.user.value)==null?void 0:C.email],d.value=e.filter(p=>p.show&&!_e.includes(p.uidt)).sort((p,Z)=>p.order-Z.order).map(p=>({...p,required:!!p.required})),U.value=new Array(d.value.length).fill(!1),K.value=lt(e).map(p=>p.fk_column_id),G.value=e.filter(p=>!p.show&&!K.value.includes(p.fk_column_id)&&!_e.includes(p.uidt))}function A(e,o=!1){let r=e;return qe(r.uidt)&&r.colOptions&&r.colOptions.type===fe.BELONGS_TO&&(r=se.value.find(_=>_.id===r.colOptions.fk_child_column_id)),o||r&&r.rqd&&!r.cdf}async function He(){var e,o,r;try{if(!await Ne())return;const _=(e=i.value)!=null&&e.email?JSON.parse((o=i.value)==null?void 0:o.email):{};_[(r=Y.user.value)==null?void 0:r.email]=I.value,i.value.email=JSON.stringify(_)}catch{}}function We(){He(),x()}async function Ge(){await ae(),le(),R.value=!1}const V=$e(async e=>{if(e.id)try{await he.dbView.formColumnUpdate(e.id,e)}catch(o){P.error(await bt(o))}},250);ye(T,e=>{var o;if(e&&((o=i.value)!=null&&o.show_blank_form)){te.value=5;const r=setInterval(()=>{--te.value<0&&(T.value=!1,clearInterval(r))},1e3)}});function Ke(e,o){if(!ie.value){const r=d.value.length;e.order=(r?d.value[r-1].order:0)+1,e.show=!0,d.value.push(e),G.value.splice(o,1),W(e,r)}}const Je=e=>Te.show&&[b.SingleLineText,b.Number,b.Email,b.URL,b.LongText].includes(e);return dt(ge,()=>{Q.value=""}),ut(async()=>{await ae(),le()}),ye(oe,e=>{(e==null?void 0:e.type)===ct.FORM&&O.trigger()}),(e,o)=>{const r=Tt,_=_t,k=Ut,C=Lt,p=Nt,Z=Ht,de=Et,Qe=yt,Ze=Vt,ue=Mt,F=zt,M=Bt,be=Dt,Xe=Wt,Ye=Gt,et=Kt,tt=Ot,ot=Pt,z=mt("e");return a(T)?(n(),g(C,{key:0,class:"h-full","data-testid":"nc-form-wrapper-submit"},{default:u(()=>[l(k,{span:24},{default:u(()=>[a(i)?(n(),w("div",Qt,[l(r,{type:"success"},{message:u(()=>[s("div",Zt,h(a(i).success_msg||"Successfully submitted form data"),1)]),_:1}),a(i).show_blank_form?(n(),w("div",Xt," New form will be loaded after "+h(a(te))+" seconds ",1)):y("",!0),a(i).submit_another_form||!a(Ie)?(n(),w("div",Yt,[l(_,{type:"primary",size:"large",onClick:o[0]||(o[0]=c=>T.value=!1)},{default:u(()=>[we(" Submit Another Form")]),_:1})])):y("",!0)])):y("",!0)]),_:1})]),_:1})):(n(),g(C,{key:1,class:"h-full flex","data-testid":"nc-form-wrapper"},{default:u(()=>[a(S)?(n(),g(k,{key:0,span:8,class:"shadow p-2 md:p-4 h-full overflow-auto scrollbar-thin-dull nc-form-left-drawer"},{default:u(()=>[s("div",eo,[s("div",to,h(e.$t("objects.fields")),1),s("div",oo,[a(G).length?(n(),w("button",{key:0,type:"button",class:"nc-form-add-all color-transition bg-white transform hover:text-primary hover:ring hover:ring-accent hover:ring-opacity-100 active:translate-y-[1px] px-2 py-1 shadow-md rounded","data-testid":"nc-form-add-all",onClick:Pe},h(e.$t("general.addAll")),1)):y("",!0),a(d).length?(n(),w("button",{key:1,type:"button",class:"nc-form-remove-all color-transition bg-white transform hover:text-primary hover:ring hover:ring-accent hover:ring-opacity-100 active:translate-y-[1px] px-2 py-1 shadow-md rounded","data-testid":"nc-form-remove-all",onClick:je},h(e.$t("general.removeAll")),1)):y("",!0)])]),l(a(Se),{list:a(G),"item-key":"id",draggable:".item",group:"form-inputs",class:"flex flex-col gap-2",onStart:o[8]||(o[8]=c=>J.value=!0),onEnd:o[9]||(o[9]=c=>J.value=!1)},{item:u(({element:c,index:t})=>[l(de,{size:"small",class:"!border-0 color-transition cursor-pointer item hover:bg-primary hover:ring-1 hover:ring-accent hover:ring-opacity-100 bg-opacity-10 !rounded !shadow-lg","data-testid":`nc-form-hidden-column-${c.label||c.title}`,onMousedown:o[1]||(o[1]=$=>ie.value=!1),onMousemove:o[2]||(o[2]=$=>ie.value=!1),onMouseup:$=>Ke(c,t)},{default:u(()=>[s("div",ao,[s("div",ro,[a(X)(c)?(n(),g(p,{key:0,column:{...c,title:c.label||c.title},required:A(c,c.required),"hide-menu":!0},null,8,["column","required"])):(n(),g(Z,{key:1,column:{...c,title:c.label||c.title},required:A(c,c.required),"hide-menu":!0},null,8,["column","required"]))])])]),_:2},1032,["data-testid","onMouseup"])]),footer:u(()=>[s("div",so,h(e.$t("msg.info.dragDropHide")),1),l(Ze,{visible:a(R),"onUpdate:visible":o[7]||(o[7]=c=>ke(R)?R.value=c:null),trigger:["click"],"overlay-class-name":"nc-dropdown-form-add-column"},{overlay:u(()=>[a(R)?(n(),g(Qe,{key:0,onSubmit:Ge,onCancel:o[4]||(o[4]=c=>R.value=!1),onClick:o[5]||(o[5]=D(()=>{},["stop"])),onKeydown:o[6]||(o[6]=D(()=>{},["stop"]))})):y("",!0)]),default:u(()=>[s("button",{type:"button",class:"group w-full mt-2",onClick:o[3]||(o[3]=D(c=>R.value=!0,["stop"]))},[s("span",io,[(n(),g(xe(a(Ce).plus),{class:"color-transition transform group-hover:text-accent group-hover:scale-125"})),s("span",no,h(e.$t("activity.addField")),1)])])]),_:1},8,["visible"])]),_:1},8,["list"])]),_:1})):y("",!0),a(i)?(n(),g(k,{key:1,span:a(S)?16:24,class:"h-full overflow-auto scrollbar-thin-dull"},{default:u(()=>[lo,l(de,{class:"p-4 border-none","body-style":{maxWidth:"max(50vw, 700px)",margin:"0 auto",marginTop:"-200px",padding:"0px"}},{default:u(()=>{var c;return[l(tt,{ref_key:"formRef",ref:ve,model:a(q),class:"nc-form","no-style":""},{default:u(()=>[l(de,{class:"!rounded !shadow !m-2 !md:m-4 !xl:m-8","body-style":{paddingLeft:"0px",paddingRight:"0px"}},{default:u(()=>[a(S)?(n(),w("div",uo,[a(S)?(n(),g(F,{key:0},{default:u(()=>[l(ue,{value:a(i).heading,"onUpdate:value":o[10]||(o[10]=t=>a(i).heading=t),class:"w-full !font-bold !text-4xl !border-0 !border-b-1 !border-dashed !rounded-none !border-gray-400",style:{borderRightWidth:"0px !important",height:"54px","min-height":"54px",resize:"vertical"},size:"large","hide-details":"",placeholder:"Form Title",bordered:!1,"data-testid":"nc-form-heading",onBlur:a(x),onKeydown:pt(a(x),["enter"])},null,8,["value","onBlur","onKeydown"])]),_:1})):y("",!0)])):(n(),w("div",co,h(a(i).heading),1)),a(S)?(n(),w("div",mo,[l(F,null,{default:u(()=>[l(ue,{value:a(i).subheading,"onUpdate:value":o[11]||(o[11]=t=>a(i).subheading=t),class:"w-full !border-0 !border-b-1 !border-dashed !rounded-none !border-gray-400",style:{borderRightWidth:"0px !important",height:"40px","min-height":"40px",resize:"vertical"},size:"large","hide-details":"",placeholder:e.$t("msg.info.formDesc"),bordered:!1,disabled:!a(S),"data-testid":"nc-form-sub-heading",onBlur:a(x),onClick:a(x)},null,8,["value","placeholder","disabled","onBlur","onClick"])]),_:1})])):(n(),w("div",po,h(a(i).subheading||"---"),1)),l(a(Se),{ref_key:"draggableRef",ref:ge,list:a(d),"item-key":"fk_column_id",draggable:".item",group:"form-inputs",class:"h-full",move:Me,onChange:o[14]||(o[14]=t=>ze(t)),onStart:o[15]||(o[15]=t=>J.value=!0),onEnd:o[16]||(o[16]=t=>J.value=!1)},{item:u(({element:t,index:$})=>[s("div",{class:pe(["color-transition nc-editable item cursor-pointer hover:bg-primary hover:bg-opacity-10 hover:ring-1 hover:ring-accent hover:ring-opacity-100 px-4 lg:px-12 py-4 relative",[`nc-form-drag-${t.title.replaceAll(" ","")}`,{"bg-primary bg-opacity-5 ring-0.5 ring-accent ring-opacity-100":a(Q)===t.title}]]),"data-testid":"nc-form-fields",onClick:m=>Q.value=t.title},[a(ee)("editFormView")&&!A(t,t.required)?(n(),w("div",_o,[(n(),g(xe(a(Ce).eyeSlash),{class:"opacity-0 nc-field-remove-icon","data-testid":"nc-field-remove-icon",onClick:D(m=>Be($),["stop"])},null,8,["onClick"]))])):y("",!0),a(Q)===t.title?(n(),w("div",vo,[s("div",ho,[s("span",{class:"text-gray-500 mr-2 nc-form-input-required","data-testid":"nc-form-input-required",onClick:()=>{t.required=!t.required,a(V)(t)}},h(e.$t("general.required")),9,go),B(l(M,{checked:t.required,"onUpdate:checked":m=>t.required=m,size:"small",onChange:m=>a(V)(t)},null,8,["checked","onUpdate:checked","onChange"]),[[z,["a:form-view:field:mark-required"]]])]),Je(t.uidt)?(n(),g(F,{key:0,class:"my-0 w-1/2 !mb-1"},{default:u(()=>[s("div",bo,[s("span",{class:"text-gray-500 mr-2 nc-form-input-required","data-testid":"nc-form-input-enable-scanner",onClick:()=>{t.general.enable_scanner=!t.general.enable_scanner,a(V)(t)}},h(e.$t("general.enableScanner")),9,yo),B(l(M,{checked:t.enable_scanner,"onUpdate:checked":m=>t.enable_scanner=m,size:"small",onChange:m=>a(V)(t)},null,8,["checked","onUpdate:checked","onChange"]),[[z,["a:form-view:field:mark-enable-scaner"]]])])]),_:2},1024)):y("",!0),l(F,{class:"my-0 w-1/2 !mb-1"},{default:u(()=>[l(be,{value:t.label,"onUpdate:value":m=>t.label=m,type:"text",class:"form-meta-input nc-form-input-label","data-testid":"nc-form-input-label",placeholder:e.$t("msg.info.formInput"),onChange:m=>a(V)(t)},null,8,["value","onUpdate:value","placeholder","onChange"])]),_:2},1024),l(F,{class:"mt-2 mb-0 w-1/2 !mb-1"},{default:u(()=>[l(be,{value:t.description,"onUpdate:value":m=>t.description=m,type:"text",class:"form-meta-input text-sm nc-form-input-help-text","data-testid":"nc-form-input-help-text",placeholder:e.$t("msg.info.formHelpText"),onChange:m=>a(V)(t)},null,8,["value","onUpdate:value","placeholder","onChange"])]),_:2},1024)])):y("",!0),s("div",null,[a(X)(t)?(n(),g(p,{key:0,column:{...t,title:t.label||t.title},required:A(t,t.required),"hide-menu":!0,"data-testid":"nc-form-input-label"},null,8,["column","required"])):(n(),g(Z,{key:1,column:{...t,title:t.label||t.title},required:A(t,t.required),"hide-menu":!0,"data-testid":"nc-form-input-label"},null,8,["column","required"]))]),a(X)(t)?(n(),g(F,{key:2,name:t.title,class:"!mb-0 nc-input-required-error",rules:[{required:A(t,t.required),message:`${t.label||t.title} is required`}]},{default:u(()=>[l(Xe,{modelValue:a(q)[t.title],"onUpdate:modelValue":m=>a(q)[t.title]=m,row:a(Oe),class:pe(["nc-input",`nc-form-input-${t.title.replaceAll(" ","")}`]),"data-testid":`nc-form-input-${t.title.replaceAll(" ","")}`,column:t,onClick:o[12]||(o[12]=D(()=>{},["stop","prevent"]))},null,8,["modelValue","onUpdate:modelValue","row","class","data-testid","column"])]),_:2},1032,["name","rules"])):(n(),g(F,{key:3,name:t.title,class:"!mb-0 nc-input-required-error",rules:[{required:A(t,t.required),message:`${t.label||t.title} is required`}]},{default:u(()=>[l(et,{class:"relative"},{default:u(()=>[l(Ye,{modelValue:a(q)[t.title],"onUpdate:modelValue":m=>a(q)[t.title]=m,class:pe(["nc-input truncate",`nc-form-input-${t.title.replaceAll(" ","")}`]),"data-testid":`nc-form-input-${t.title.replaceAll(" ","")}`,column:t,"edit-enabled":a(U)[$],onClick:[m=>a(U)[$]=!0,o[13]||(o[13]=D(()=>{},["stop","prevent"]))],onCancel:m=>a(U)[$]=!1,"onUpdate:editEnabled":m=>a(U)[$]=m},null,8,["modelValue","onUpdate:modelValue","class","data-testid","column","edit-enabled","onClick","onCancel","onUpdate:editEnabled"])]),_:2},1024)]),_:2},1032,["name","rules"])),s("div",wo,h(t.description),1)],10,fo)]),footer:u(()=>[a(d).length?y("",!0):(n(),w("div",ko," Drag and drop fields here to add "))]),_:1},8,["list"]),s("div",xo,[s("button",{type:"submit",disabled:!a(ee)("dataInsert"),class:"uppercase scaling-btn nc-form-submit","data-testid":"nc-form-submit",onClick:Ue},h(e.$t("general.submit")),9,Co)])]),_:1})]),_:1},8,["model"]),l(ot),a(S)?(n(),w("div",$o,[s("div",qo,h(e.$t("msg.info.afterFormSubmitted")),1),s("div",So,h(e.$t("msg.info.showMessage"))+":",1),l(ue,{value:a(i).success_msg,"onUpdate:value":o[17]||(o[17]=t=>a(i).success_msg=t),rows:3,"hide-details":"",class:"nc-form-after-submit-msg","data-testid":"nc-form-after-submit-msg",onChange:a(x)},null,8,["value","onChange"]),s("div",Ro,[s("div",Io,[B(l(M,{checked:a(i).submit_another_form,"onUpdate:checked":o[18]||(o[18]=t=>a(i).submit_another_form=t),size:"small",class:"nc-form-checkbox-submit-another-form","data-testid":"nc-form-checkbox-submit-another-form",onChange:a(x)},null,8,["checked","onChange"]),[[z,["a:form-view:submit-another-form"]]]),s("span",Ao,h(e.$t("msg.info.submitAnotherForm")),1)]),s("div",Fo,[B(l(M,{checked:a(i).show_blank_form,"onUpdate:checked":o[19]||(o[19]=t=>a(i).show_blank_form=t),size:"small",class:"nc-form-checkbox-show-blank-form","data-testid":"nc-form-checkbox-show-blank-form",onChange:a(x)},null,8,["checked","onChange"]),[[z,["a:form-view:show-blank-form"]]]),s("span",Eo,h(e.$t("msg.info.showBlankForm")),1)]),s("div",Vo,[B(l(M,{checked:a(I),"onUpdate:checked":o[20]||(o[20]=t=>ke(I)?I.value=t:null),size:"small",class:"nc-form-checkbox-send-email","data-testid":"nc-form-checkbox-send-email",onChange:We},null,8,["checked"]),[[z,["a:form-view:email-me"]]]),s("span",Do,[we(h(e.$t("msg.info.emailForm"))+" ",1),s("span",Oo,h((c=a(Y).user.value)==null?void 0:c.email),1)])])])])):y("",!0)]}),_:1},8,["body-style"])]),_:1},8,["span"])):y("",!0)]),_:1}))}}});const Ga=jt(To,[["__scopeId","data-v-11c9d860"]]);export{Ga as default};
