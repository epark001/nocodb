import{h,A as f,$ as k,r as c,aq as _,k as y,o as b,c as v,b as w,E as x,H as E,aj as V,Q as g,R as M,a as T,f as A,J as r,K as P}from"./entry.51f4e399.js";import{M as R}from"./index.5263eb1d.js";const j=g(()=>M(()=>import("./Editor.32022328.js"),["./Editor.32022328.js","./Editor.vue.08021a9c.js","./entry.51f4e399.js","./entry.0f786d51.css","./deepCompare.d32ec333.js"],import.meta.url).then(e=>e.default||e)),B=T("div",{class:"mb-4 font-weight-medium"},"Sample Payload",-1),N=h({__name:"Test",props:{hook:{}},setup(e,{expose:i}){const{t:u}=f(),{$api:n}=A(),s=k(R,c()),t=c();_(()=>{var a;return(a=e.hook)==null?void 0:a.operation},async()=>{await l()});async function l(){var a,o;t.value=await n.dbTableWebhook.samplePayloadGet((a=s==null?void 0:s.value)==null?void 0:a.id,((o=e.hook)==null?void 0:o.operation)||"insert",e.hook.version)}async function d(){var a;try{await n.dbTableWebhook.test((a=s.value)==null?void 0:a.id,{hook:e.hook,payload:t.value}),r.success(u("msg.success.webhookTested"))}catch(o){r.error(await P(o))}}return i({testWebhook:d}),y(async()=>{await l()}),(a,o)=>{const m=j;return b(),v(V,null,[B,w(m,{modelValue:x(t),"onUpdate:modelValue":o[0]||(o[0]=p=>E(t)?t.value=p:null),class:"min-h-60 max-h-80"},null,8,["modelValue"])],64)}}});export{N as default};
