import{h as B,c4 as E,eI as M,Z as l,r as v,fh as j,y as D,fi as U,B as $,aq as q,o as m,C as g,w as a,c9 as H,cg as T,E as e,W as h,b as r,a as d,bP as z,c as L,t as b,H as A,I as W,c6 as Z,P as G,p as J,e as K}from"./entry.51f4e399.js";import{b as O,c as Q,R as X,M as Y}from"./index.5263eb1d.js";import{a as ee}from"./useSharedFormViewStore.b1e9bc79.js";import{u as oe}from"./useSmartsheetStore.1784ce8b.js";import{u as se}from"./index.3c3505ee.js";import{F as te}from"./index.de92142d.js";import{_ as ae}from"./Password.d493e47a.js";import{_ as re}from"./FormItem.cda40628.js";import{_ as ne}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.b9981e09.js";import"./useMetas.ba7abae7.js";import"./useSmartsheetRowStore.aafbb4bb.js";import"./deepCompare.d32ec333.js";import"./dataUtils.edecace3.js";import"./virtualCell.4dce1393.js";import"./views.28a76d89.js";import"./useSharedView.0db5f32b.js";import"./useSize.3b3f469f.js";import"./identity.dd5da9ba.js";import"./isSymbol.b53bd26f.js";import"./_flatRest.ff2d3d5c.js";import"./debounce.7d32c110.js";import"./toNumber.9dc54e53.js";import"./isPlainObject.ecf52d25.js";import"./_getPrototype.ec1165af.js";import"./FormItemContext.e001cd7c.js";import"./Input.7cb175ff.js";import"./antInputDirective.8ac36ea7.js";import"./Col.88cfabc0.js";import"./responsiveObserve.501a6cf9.js";import"./toArray.06afb623.js";const ie=n=>(J("data-v-2cf7327d"),n=n(),K(),n),le={class:"w-full flex flex-col gap-4"},pe=ie(()=>d("h2",{class:"text-xl font-semibold"},"This shared view is protected",-1)),me={key:0,class:"mb-2 text-sm text-red-500"},de={type:"submit",class:"mt-4 scaling-btn bg-opacity-100"},_e=B({__name:"[viewId]",async setup(n){let _,c;se("nc-left-sidebar",{hasSidebar:!1});const I=E(),{loadSharedView:u,sharedView:y,sharedViewMeta:x,meta:f,notFound:S,password:k,passwordDlg:o,passwordError:w}=ee(I.params.viewId);if([_,c]=M(()=>u()),await _,c(),!S.value)l(X,T()),l(Y,f),l(O,v(!0)),l(Q,v(!0)),oe(y,f,!0),j(x.value.rtl?"rtl":"ltr");else throw D("/error/404"),U({statusCode:404,statusMessage:"Page Not Found"});const t=$({password:""});return q(()=>t.password,()=>{k.value=t.password}),(p,s)=>{const C=Z,F=ae,P=re,V=te,N=G,R=H;return m(),g(R,null,{default:a(()=>[e(o)?h("",!0):(m(),g(C,{key:0})),r(N,{visible:e(o),"onUpdate:visible":s[1]||(s[1]=i=>A(o)?o.value=i:null),class:W({active:e(o)}),closable:!1,width:"min(100%, 450px)",centered:"",footer:null,"mask-closable":!1,"wrap-class-name":"nc-modal-shared-form-password-dlg",onClose:s[2]||(s[2]=i=>o.value=!1)},{default:a(()=>[d("div",le,[pe,r(V,{layout:"vertical","no-style":"",model:e(t),onFinish:e(u)},{default:a(()=>[r(P,{name:"password",rules:[{required:!0,message:p.$t("msg.error.signUpRules.passwdRequired")}]},{default:a(()=>[r(F,{value:e(t).password,"onUpdate:value":s[0]||(s[0]=i=>e(t).password=i),size:"large",placeholder:p.$t("msg.info.signUp.enterPassword")},null,8,["value","placeholder"])]),_:1},8,["rules"]),r(z,{name:"layout"},{default:a(()=>[e(w)?(m(),L("div",me,b(e(w)),1)):h("",!0)]),_:1}),d("button",de,b(p.$t("general.unlock")),1)]),_:1},8,["model","onFinish"])])]),_:1},8,["visible","class"])]),_:1})}}});const Ae=ne(_e,[["__scopeId","data-v-2cf7327d"]]);export{Ae as default};
