import{h as ze,al as z,Z as k,T as Ce,$ as E,r as v,cb as Pe,i as C,k as Te,ac as De,o as u,c as L,E as e,aj as j,C as s,H as _,dg as Oe,W as P,I as Re,b6 as M,cF as F,fD as B,Q as r,R as i,fO as Ae,fP as Ue}from"./entry.51f4e399.js";import{C as be,E as we,h as ge,f as Se,c as je,l as Me,b as Fe,d as Be,I as Ne}from"./index.5263eb1d.js";import{y as Ge,z as qe,v as N,w as G,p as q,s as K,u as $,t as J,j as Ke,e as $e,h as Je,o as T,g as We,A as Ye,c as He,i as x,l as Qe,d as Xe,m as Ze,n as he,k as el,r as ll,q as ol,x as tl,b as W,B as nl}from"./cell.1732684e.js";import{a as al}from"./useMetas.ba7abae7.js";import{a as ul}from"./useSmartsheetRowStore.aafbb4bb.js";import{_ as sl}from"./_plugin-vue_export-helper.c27b6911.js";import"./deepCompare.d32ec333.js";import"./dataUtils.edecace3.js";import"./virtualCell.4dce1393.js";import"./index.b9981e09.js";const _l=r(()=>i(()=>import("./TextArea.94717438.js"),["./TextArea.94717438.js","./entry.51f4e399.js","./entry.0f786d51.css","./Tooltip.vue.f55045dc.js","./Tooltip.b86f91a1.css","./CellIcon.8a6080fd.js","./index.5263eb1d.js","./cell.1732684e.js","./useMetas.ba7abae7.js","./Dropdown.vue.97a9d1a0.js","./index.252dc7b4.js","./Dropdown.dc69c0a4.js","./RightOutlined.90e8180f.js","./TextArea.442a25cb.js","./Input.7cb175ff.js","./antInputDirective.8ac36ea7.js","./FormItemContext.e001cd7c.js","./TextArea.6baac632.css"],import.meta.url).then(l=>l.default||l)),rl=r(()=>i(()=>import("./GeoData.a2a498ed.js"),["./GeoData.a2a498ed.js","./entry.51f4e399.js","./entry.0f786d51.css","./geoDataUtils.62b1d864.js","./index.e760d172.js","./Input.7cb175ff.js","./antInputDirective.8ac36ea7.js","./FormItemContext.e001cd7c.js","./SearchOutlined.dec109ce.js","./isPlainObject.ecf52d25.js","./_getPrototype.ec1165af.js","./TextArea.442a25cb.js","./Password.d493e47a.js","./index.de92142d.js","./FormItem.cda40628.js","./identity.dd5da9ba.js","./isSymbol.b53bd26f.js","./Col.88cfabc0.js","./responsiveObserve.501a6cf9.js","./toArray.06afb623.js","./toNumber.9dc54e53.js","./useSize.3b3f469f.js","./_flatRest.ff2d3d5c.js","./debounce.7d32c110.js","./index.252dc7b4.js","./Dropdown.dc69c0a4.js","./RightOutlined.90e8180f.js","./_plugin-vue_export-helper.c27b6911.js","./GeoData.dd35b70a.css"],import.meta.url).then(l=>l.default||l)),il=r(()=>i(()=>import("./Checkbox.d7570f2f.js"),["./Checkbox.d7570f2f.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./useMetas.ba7abae7.js","./index.82c42c24.js","./_plugin-vue_export-helper.c27b6911.js","./Checkbox.902db96b.css"],import.meta.url).then(l=>l.default||l)),ml=r(()=>i(()=>import("./index.96daf2ae.js").then(l=>l.i),["./index.96daf2ae.js","./entry.51f4e399.js","./entry.0f786d51.css","./Overlay.8132102a.js","./_plugin-vue_export-helper.c27b6911.js","./Overlay.09be8605.css","./Tooltip.vue.f55045dc.js","./Tooltip.b86f91a1.css","./index.5263eb1d.js","./fileUtils.43128440.js","./useAttachment.c953c895.js","./urlUtils.a77f6d4a.js","./index.82c42c24.js","./useSmartsheetRowStore.aafbb4bb.js","./deepCompare.d32ec333.js","./dataUtils.edecace3.js","./virtualCell.4dce1393.js","./index.b9981e09.js","./useMetas.ba7abae7.js","./useSmartsheetStore.1784ce8b.js","./views.28a76d89.js","./useSharedView.0db5f32b.js","./index.277e21b7.js","./Button.vue.793bcd1d.js","./index.0db47614.js","./debounce.7d32c110.js","./toNumber.9dc54e53.js","./isSymbol.b53bd26f.js","./Button.95d2a5ed.css","./Modal.vue.b59a28af.js","./DeleteModal.7ab6f524.css","./index.e760d172.js","./Input.7cb175ff.js","./antInputDirective.8ac36ea7.js","./FormItemContext.e001cd7c.js","./SearchOutlined.dec109ce.js","./isPlainObject.ecf52d25.js","./_getPrototype.ec1165af.js","./TextArea.442a25cb.js","./Password.d493e47a.js","./index.de92142d.js","./FormItem.cda40628.js","./identity.dd5da9ba.js","./Col.88cfabc0.js","./responsiveObserve.501a6cf9.js","./toArray.06afb623.js","./useSize.3b3f469f.js","./_flatRest.ff2d3d5c.js","./sortable.esm.9c3c89c5.js","./index.9b15c0d0.css"],import.meta.url).then(l=>l.default||l)),dl=r(()=>i(()=>import("./SingleSelect.973aafb9.js"),["./SingleSelect.973aafb9.js","./index.5263eb1d.js","./entry.51f4e399.js","./entry.0f786d51.css","./useMetas.ba7abae7.js","./index.82c42c24.js","./index.d05e87a9.js","./index.5e746f62.js","./toArray.06afb623.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.b13a9257.js","./useMergedState.5e6500b1.js","./useState.6010d8b6.js","./DownOutlined.db6f6406.js","./CheckOutlined.ef30fafc.js","./SearchOutlined.dec109ce.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./SingleSelect.17e3da37.css"],import.meta.url).then(l=>l.default||l)),pl=r(()=>i(()=>import("./MultiSelect.c752aaec.js"),["./MultiSelect.c752aaec.js","./index.5263eb1d.js","./entry.51f4e399.js","./entry.0f786d51.css","./useMetas.ba7abae7.js","./index.82c42c24.js","./index.d05e87a9.js","./index.5e746f62.js","./toArray.06afb623.js","./antInputDirective.8ac36ea7.js","./isMobile.e2e89480.js","./useMemo.b13a9257.js","./useMergedState.5e6500b1.js","./useState.6010d8b6.js","./DownOutlined.db6f6406.js","./CheckOutlined.ef30fafc.js","./SearchOutlined.dec109ce.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./MultiSelect.9f8ac802.css"],import.meta.url).then(l=>l.default||l)),vl=r(()=>i(()=>import("./DatePicker.ccf8ebfc.js"),["./DatePicker.ccf8ebfc.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./useMetas.ba7abae7.js","./index.82c42c24.js","./dayjs.5e586ea0.js","./index.f911c8dd.js","./createForOfIteratorHelper.12419aa5.js","./index.d05e87a9.js","./useMergedState.5e6500b1.js","./useMemo.b13a9257.js","./useState.6010d8b6.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./DatePicker.21d7c178.css"],import.meta.url).then(l=>l.default||l)),yl=r(()=>i(()=>import("./YearPicker.e6eb7343.js"),["./YearPicker.e6eb7343.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./index.82c42c24.js","./dayjs.5e586ea0.js","./index.f911c8dd.js","./createForOfIteratorHelper.12419aa5.js","./index.d05e87a9.js","./useMergedState.5e6500b1.js","./useMemo.b13a9257.js","./useState.6010d8b6.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./YearPicker.f9c007b9.css"],import.meta.url).then(l=>l.default||l)),Vl=r(()=>i(()=>import("./DateTimePicker.1adb61dc.js"),["./DateTimePicker.1adb61dc.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./useMetas.ba7abae7.js","./index.82c42c24.js","./dayjs.5e586ea0.js","./index.f911c8dd.js","./createForOfIteratorHelper.12419aa5.js","./index.d05e87a9.js","./useMergedState.5e6500b1.js","./useMemo.b13a9257.js","./useState.6010d8b6.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./DateTimePicker.560dac62.css"],import.meta.url).then(l=>l.default||l)),cl=r(()=>i(()=>import("./TimePicker.16f63c4f.js"),["./TimePicker.16f63c4f.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./useMetas.ba7abae7.js","./index.82c42c24.js","./index.f911c8dd.js","./createForOfIteratorHelper.12419aa5.js","./index.d05e87a9.js","./useMergedState.5e6500b1.js","./useMemo.b13a9257.js","./useState.6010d8b6.js","./FormItemContext.e001cd7c.js","./_plugin-vue_export-helper.c27b6911.js","./TimePicker.1f0d0847.css"],import.meta.url).then(l=>l.default||l)),fl=r(()=>i(()=>import("./Rating.7f43942b.js"),["./Rating.7f43942b.js","./Rating.vue.ff9d0360.js","./index.5263eb1d.js","./useMetas.ba7abae7.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.82c42c24.js","./useRefs.154aa2be.js","./FormItemContext.e001cd7c.js"],import.meta.url).then(l=>l.default||l)),El=r(()=>i(()=>import("./Duration.2333caad.js"),["./Duration.2333caad.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./durationUtils.4b78cf29.js","./useMetas.ba7abae7.js","./_plugin-vue_export-helper.c27b6911.js","./Duration.41e88117.css"],import.meta.url).then(l=>l.default||l)),Il=r(()=>i(()=>import("./Email.48e63c63.js"),["./Email.48e63c63.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./useMetas.ba7abae7.js","./validation.6db726f3.js"],import.meta.url).then(l=>l.default||l)),kl=r(()=>i(()=>import("./Url.7008f860.js"),["./Url.7008f860.js","./entry.51f4e399.js","./entry.0f786d51.css","./nuxt-link.b37e7c69.js","./index.5263eb1d.js","./urlUtils.a77f6d4a.js","./useMetas.ba7abae7.js"],import.meta.url).then(l=>l.default||l)),Ll=r(()=>i(()=>import("./PhoneNumber.cd8f4088.js"),["./PhoneNumber.cd8f4088.js","./entry.51f4e399.js","./entry.0f786d51.css"],import.meta.url).then(l=>l.default||l)),xl=r(()=>i(()=>import("./Percent.f9f2a769.js"),["./Percent.f9f2a769.js","./Percent.vue.649b69a3.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js"],import.meta.url).then(l=>l.default||l)),zl=r(()=>i(()=>import("./Currency.7e0ef1a4.js"),["./Currency.7e0ef1a4.js","./Currency.vue.5d9aceaa.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./useMetas.ba7abae7.js"],import.meta.url).then(l=>l.default||l)),Cl=r(()=>i(()=>import("./Decimal.2e9d72fd.js"),["./Decimal.2e9d72fd.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./_plugin-vue_export-helper.c27b6911.js","./Decimal.623318fe.css"],import.meta.url).then(l=>l.default||l)),Pl=r(()=>i(()=>import("./Integer.0dc3a7a3.js"),["./Integer.0dc3a7a3.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./_plugin-vue_export-helper.c27b6911.js","./Integer.e021bec9.css"],import.meta.url).then(l=>l.default||l)),Tl=r(()=>i(()=>import("./Float.ec21e7fe.js"),["./Float.ec21e7fe.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./_plugin-vue_export-helper.c27b6911.js","./Float.7f975c7f.css"],import.meta.url).then(l=>l.default||l)),Dl=r(()=>i(()=>import("./Text.7922e3c0.js"),["./Text.7922e3c0.js","./Text.vue.01e1d339.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js"],import.meta.url).then(l=>l.default||l)),Ol=r(()=>i(()=>import("./Json.c4d75f22.js"),["./Json.c4d75f22.js","./entry.51f4e399.js","./entry.0f786d51.css","./index.5263eb1d.js","./index.82c42c24.js","./_plugin-vue_export-helper.c27b6911.js","./Json.f0708419.css"],import.meta.url).then(l=>l.default||l)),Rl={key:23,class:"nc-locked-overlay"},Al=ze({__name:"Cell",props:{column:{},modelValue:{},editEnabled:{type:Boolean},readOnly:{type:Boolean},rowIndex:{},active:{type:Boolean},virtual:{type:Boolean}},emits:["update:modelValue","save","navigate","update:editEnabled"],setup(l,{emit:y}){var b,w;const d=l,a=z(d,"column"),Y=z(d,"active",!1),D=z(d,"readOnly",!1);k(be,a),k(we,Ce(d,"editEnabled",y)),k(ge,Y),k(Se,D);const c=E(je,v(!1)),H=E(Me,v(!1)),Q=E(Fe,v(!1)),X=E(Be,v(!1)),Z=E(Ne,v(!1)),{currentRow:V}=ul(),{sqlUis:O}=Pe(al()),h=v((b=a.value)!=null&&b.base_id?O.value[(w=a.value)==null?void 0:w.base_id]:Object.values(O.value)[0]),p=C(()=>a.value&&h.value.getAbstractType(a.value)),ee=Ae(()=>{V.value.rowMeta.changed=!1,y("save")},500,{maxWait:2e3}),o=C({get:()=>d.modelValue,set:m=>{m!==d.modelValue&&(V.value.rowMeta.changed=!0,y("update:modelValue",m),Ge(a.value)?ee():qe(a.value)||y("save"))}}),R=(m,t)=>{W(a.value)||((V.value.rowMeta.changed||V.value.rowMeta.new)&&(V.value.rowMeta.changed=!1),y("navigate",m),c.value||t.stopImmediatePropagation())},le=C(()=>N(a.value,p.value)||G(a.value,p.value)||q(a.value)||K(a.value)||$(a.value)||J(a.value)),oe=m=>{d.editEnabled&&Ue(a.value)&&m.stopPropagation()},A=v(!1),f=v(),U=v();function te(){f.value=new IntersectionObserver(m=>{m.forEach(t=>{var I;t.isIntersecting&&(A.value=!0,(I=f.value)==null||I.disconnect(),f.value=void 0)})})}return Te(()=>{var m;te(),(m=f.value)==null||m.observe(U.value)}),De(()=>{var m;(m=f.value)==null||m.disconnect()}),(m,t)=>{var S;const I=_l,ne=rl,ae=il,ue=ml,se=dl,_e=pl,re=vl,ie=yl,me=Vl,de=cl,pe=fl,ve=El,ye=Il,Ve=kl,ce=Ll,fe=xl,Ee=zl,Ie=Cl,ke=Pl,Le=Tl,g=Dl,xe=Ol;return u(),L("div",{ref_key:"elementToObserve",ref:U,class:Re(["nc-cell w-full h-full relative",[`nc-cell-${(((S=e(a))==null?void 0:S.uidt)||"default").toLowerCase()}`,{"text-blue-600":e(nl)(e(a))&&!d.virtual&&!e(c)},{"nc-grid-numeric-cell":e(H)&&!e(c)&&e(le)},{"h-[40px]":!d.editEnabled&&e(c)&&!e(Z)&&!e(T)(e(a))&&!d.virtual}]]),onKeydown:[t[24]||(t[24]=M(F(n=>R(e(B).NEXT,n),["exact"]),["enter"])),t[25]||(t[25]=M(F(n=>R(e(B).PREV,n),["shift","exact"]),["enter"]))],onContextmenu:oe},[e(a)?(u(),L(j,{key:0},[e(A)?(u(),L(j,{key:0},[e(Ke)(e(a))?(u(),s(I,{key:0,modelValue:e(o),"onUpdate:modelValue":t[0]||(t[0]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e($e)(e(a))?(u(),s(ne,{key:1,modelValue:e(o),"onUpdate:modelValue":t[1]||(t[1]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(Je)(e(a),e(p))?(u(),s(ae,{key:2,modelValue:e(o),"onUpdate:modelValue":t[2]||(t[2]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(T)(e(a))?(u(),s(ue,{key:3,modelValue:e(o),"onUpdate:modelValue":t[3]||(t[3]=n=>_(o)?o.value=n:null),"row-index":d.rowIndex},null,8,["modelValue","row-index"])):e(We)(e(a))?(u(),s(se,{key:4,modelValue:e(o),"onUpdate:modelValue":t[4]||(t[4]=n=>_(o)?o.value=n:null),"row-index":d.rowIndex},null,8,["modelValue","row-index"])):e(Ye)(e(a))?(u(),s(_e,{key:5,modelValue:e(o),"onUpdate:modelValue":t[5]||(t[5]=n=>_(o)?o.value=n:null),"row-index":d.rowIndex},null,8,["modelValue","row-index"])):e(He)(e(a),e(p))?(u(),s(re,{key:6,modelValue:e(o),"onUpdate:modelValue":t[6]||(t[6]=n=>_(o)?o.value=n:null),"is-pk":e(x)(e(a))},null,8,["modelValue","is-pk"])):e(Qe)(e(a),e(p))?(u(),s(ie,{key:7,modelValue:e(o),"onUpdate:modelValue":t[7]||(t[7]=n=>_(o)?o.value=n:null),"is-pk":e(x)(e(a))},null,8,["modelValue","is-pk"])):e(Xe)(e(a),e(p))?(u(),s(me,{key:8,modelValue:e(o),"onUpdate:modelValue":t[8]||(t[8]=n=>_(o)?o.value=n:null),"is-pk":e(x)(e(a)),"is-updated-from-copy-n-paste":e(V).rowMeta.isUpdatedFromCopyNPaste},null,8,["modelValue","is-pk","is-updated-from-copy-n-paste"])):e(Ze)(e(a),e(p))?(u(),s(de,{key:9,modelValue:e(o),"onUpdate:modelValue":t[9]||(t[9]=n=>_(o)?o.value=n:null),"is-pk":e(x)(e(a))},null,8,["modelValue","is-pk"])):e(he)(e(a))?(u(),s(pe,{key:10,modelValue:e(o),"onUpdate:modelValue":t[10]||(t[10]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(J)(e(a))?(u(),s(ve,{key:11,modelValue:e(o),"onUpdate:modelValue":t[11]||(t[11]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(el)(e(a))?(u(),s(ye,{key:12,modelValue:e(o),"onUpdate:modelValue":t[12]||(t[12]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(ll)(e(a))?(u(),s(Ve,{key:13,modelValue:e(o),"onUpdate:modelValue":t[13]||(t[13]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(ol)(e(a))?(u(),s(ce,{key:14,modelValue:e(o),"onUpdate:modelValue":t[14]||(t[14]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e($)(e(a))?(u(),s(fe,{key:15,modelValue:e(o),"onUpdate:modelValue":t[15]||(t[15]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(K)(e(a))?(u(),s(Ee,{key:16,modelValue:e(o),"onUpdate:modelValue":t[16]||(t[16]=n=>_(o)?o.value=n:null),onSave:t[17]||(t[17]=n=>y("save"))},null,8,["modelValue"])):e(q)(e(a))?(u(),s(Ie,{key:17,modelValue:e(o),"onUpdate:modelValue":t[18]||(t[18]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(N)(e(a),e(p))?(u(),s(ke,{key:18,modelValue:e(o),"onUpdate:modelValue":t[19]||(t[19]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(G)(e(a),e(p))?(u(),s(Le,{key:19,modelValue:e(o),"onUpdate:modelValue":t[20]||(t[20]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(tl)(e(a),e(p))?(u(),s(g,{key:20,modelValue:e(o),"onUpdate:modelValue":t[21]||(t[21]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):e(W)(e(a))?(u(),s(xe,{key:21,modelValue:e(o),"onUpdate:modelValue":t[22]||(t[22]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])):(u(),s(g,{key:22,modelValue:e(o),"onUpdate:modelValue":t[23]||(t[23]=n=>_(o)?o.value=n:null)},null,8,["modelValue"])),(e(X)||e(Q)&&e(D)&&!e(c)||e(Oe)(e(a)))&&!e(T)(e(a))?(u(),L("div",Rl)):P("",!0)],64)):P("",!0)],64)):P("",!0)],34)}}});const Gl=sl(Al,[["__scopeId","data-v-39fff599"]]);export{Gl as default};
