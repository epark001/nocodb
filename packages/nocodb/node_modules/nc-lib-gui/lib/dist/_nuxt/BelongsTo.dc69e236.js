import{h as S,$ as n,cg as z,r,eI as F,i as f,o as v,c as x,a as H,E as e,C as M,W as C,b as g,cF as O,H as G,I as K,Q,R as W}from"./entry.51f4e399.js";import{_ as q}from"./ItemChip.14d602dd.js";import{_ as J}from"./Icon.vue.1162f18b.js";import{C as X,w as Y,j as Z,i as ee,h as te,f as oe,c as se,d as ne,y as ae}from"./index.5263eb1d.js";import{u as le}from"./useLTARStore.3d98e502.js";import{u as re}from"./index.82c42c24.js";import{a as ie}from"./useSmartsheetRowStore.aafbb4bb.js";import{u as ue}from"./index.9e760c64.js";import{_ as ce}from"./_plugin-vue_export-helper.c27b6911.js";import"./cell.1732684e.js";import"./index.8b8de496.js";import"./index.b9981e09.js";import"./useMetas.ba7abae7.js";import"./useSharedView.0db5f32b.js";import"./deepCompare.d32ec333.js";import"./dataUtils.edecace3.js";import"./virtualCell.4dce1393.js";const me=Q(()=>W(()=>import("./ListItems.d6480b5e.js"),["./ListItems.d6480b5e.js","./entry.51f4e399.js","./entry.0f786d51.css","./ItemChip.14d602dd.js","./index.9e760c64.js","./index.5263eb1d.js","./cell.1732684e.js","./index.8b8de496.js","./index.b9981e09.js","./useLTARStore.3d98e502.js","./useMetas.ba7abae7.js","./useSharedView.0db5f32b.js","./_plugin-vue_export-helper.c27b6911.js","./ItemChip.06f0b072.css","./index.82c42c24.js","./useSmartsheetRowStore.aafbb4bb.js","./deepCompare.d32ec333.js","./dataUtils.edecace3.js","./virtualCell.4dce1393.js","./index.e760d172.js","./Input.7cb175ff.js","./antInputDirective.8ac36ea7.js","./FormItemContext.e001cd7c.js","./SearchOutlined.dec109ce.js","./isPlainObject.ecf52d25.js","./_getPrototype.ec1165af.js","./TextArea.442a25cb.js","./Password.d493e47a.js","./index.680937e8.js","./index.c4aafe5c.js","./Dropdown.dc69c0a4.js","./useState.6010d8b6.js","./useRefs.154aa2be.js","./identity.dd5da9ba.js","./isSymbol.b53bd26f.js","./_flatRest.ff2d3d5c.js","./isMobile.e2e89480.js","./useMergedState.5e6500b1.js","./index.529d8b39.js","./Col.88cfabc0.js","./responsiveObserve.501a6cf9.js","./index.fbcca285.js","./index.09b19c06.js","./LeftOutlined.3bb8aa17.js","./RightOutlined.90e8180f.js","./index.5e746f62.js","./toArray.06afb623.js","./useMemo.b13a9257.js","./DownOutlined.db6f6406.js","./CheckOutlined.ef30fafc.js","./useBreakpoint.a91853f1.js","./ListItems.edf42c5a.css"],import.meta.url).then(c=>c.default||c)),pe={class:"chips flex items-center flex-1"},_e={key:0,class:"flex justify-end gap-1 min-h-[30px] items-center"},de=S({__name:"BelongsTo",async setup(c){let I,y;const a=n(X),R=n(Y,z()),s=n(Z,r(null)),j=n(ee),k=n(te),T=n(oe,r(!1)),b=n(se,r(!1)),h=n(ne,r(!1)),L=n(ae,r(!1)),{isUIAllowed:A}=ue(),l=r(!1),{state:m,isNew:p,removeLTARRef:B}=ie(),{relatedTableMeta:E,loadRelatedTableMeta:P,relatedTableDisplayValueProp:_,unlink:U}=le(a,j,p,R.trigger);[I,y]=F(()=>P()),await I,y();const V=f(()=>s!=null&&s.value?"expand":"plus"),i=f(()=>{var t;return s!=null&&s.value?s==null?void 0:s.value:p.value?(t=m==null?void 0:m.value)==null?void 0:t[a==null?void 0:a.value.title]:null}),D=async t=>{p.value?await B(t,a==null?void 0:a.value):await U(t)};re(k,t=>{switch(t.key){case"Enter":l.value=!0,t.stopPropagation();break}});const w=f(()=>{var t,o;return(o=(t=E.value)==null?void 0:t.columns)==null?void 0:o.find(d=>d.title===_.value)});return(t,o)=>{const d=q,$=J,N=me;return v(),x("div",{class:K(["flex w-full chips-wrapper items-center",{active:e(k)}])},[H("div",pe,[e(i)&&e(_)?(v(),M(d,{key:0,item:e(i),value:e(i)[e(_)],column:e(w),"show-unlink-button":!0,onUnlink:o[0]||(o[0]=u=>D(e(i)))},null,8,["item","value","column"])):C("",!0)]),!e(T)&&!e(h)&&(e(A)("xcDatatableEditable")||e(b))&&!e(L)?(v(),x("div",_e,[g($,{icon:e(V),class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 select-none group-hover:text-gray-500 nc-plus",onClick:o[1]||(o[1]=O(u=>l.value=!0,["stop"]))},null,8,["icon"])])):C("",!0),g(N,{modelValue:e(l),"onUpdate:modelValue":o[2]||(o[2]=u=>G(l)?l.value=u:null),column:e(w),onAttachRecord:o[3]||(o[3]=u=>l.value=!0)},null,8,["modelValue","column"])],2)}}});const Ee=ce(de,[["__scopeId","data-v-4be37538"]]);export{Ee as default};
