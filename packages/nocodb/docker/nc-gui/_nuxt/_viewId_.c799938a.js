import{h as B,c4 as E,eI as M,Z as l,r as v,fh as j,y as D,fi as U,B as $,aq as q,o as m,C as g,w as a,c9 as H,cg as T,E as e,W as h,b as r,a as d,bP as z,c as L,t as b,H as A,I as W,c6 as Z,P as G,p as J,e as K}from"./entry.13466615.js";import{b as O,c as Q,R as X,M as Y}from"./index.5263eb1d.js";import{a as ee}from"./useSharedFormViewStore.36596e3e.js";import{u as oe}from"./useSmartsheetStore.9bdf3b91.js";import{u as se}from"./index.c41a4e8f.js";import{F as te}from"./index.6f605a00.js";import{_ as ae}from"./Password.d7b16461.js";import{_ as re}from"./FormItem.fe59dafe.js";import{_ as ne}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.2a3da6a9.js";import"./useMetas.223da623.js";import"./useSmartsheetRowStore.ef2cd001.js";import"./deepCompare.d32ec333.js";import"./dataUtils.31dbfaee.js";import"./virtualCell.88c63e03.js";import"./views.3cd4bcb9.js";import"./useSharedView.746b4f21.js";import"./useSize.dec45296.js";import"./identity.b813b76e.js";import"./isSymbol.b9109ae5.js";import"./_flatRest.037bf8e3.js";import"./debounce.dbc9bf77.js";import"./toNumber.7aa6a805.js";import"./isPlainObject.4c0f42f1.js";import"./_getPrototype.00be30f0.js";import"./FormItemContext.27b2e5db.js";import"./Input.16966097.js";import"./antInputDirective.8ac36ea7.js";import"./Col.23d910dc.js";import"./responsiveObserve.9209e727.js";import"./toArray.f6fa5a71.js";const ie=n=>(J("data-v-2cf7327d"),n=n(),K(),n),le={class:"w-full flex flex-col gap-4"},pe=ie(()=>d("h2",{class:"text-xl font-semibold"},"This shared view is protected",-1)),me={key:0,class:"mb-2 text-sm text-red-500"},de={type:"submit",class:"mt-4 scaling-btn bg-opacity-100"},_e=B({__name:"[viewId]",async setup(n){let _,c;se("nc-left-sidebar",{hasSidebar:!1});const I=E(),{loadSharedView:u,sharedView:y,sharedViewMeta:x,meta:f,notFound:S,password:k,passwordDlg:o,passwordError:w}=ee(I.params.viewId);if([_,c]=M(()=>u()),await _,c(),!S.value)l(X,T()),l(Y,f),l(O,v(!0)),l(Q,v(!0)),oe(y,f,!0),j(x.value.rtl?"rtl":"ltr");else throw D("/error/404"),U({statusCode:404,statusMessage:"Page Not Found"});const t=$({password:""});return q(()=>t.password,()=>{k.value=t.password}),(p,s)=>{const C=Z,F=ae,P=re,V=te,N=G,R=H;return m(),g(R,null,{default:a(()=>[e(o)?h("",!0):(m(),g(C,{key:0})),r(N,{visible:e(o),"onUpdate:visible":s[1]||(s[1]=i=>A(o)?o.value=i:null),class:W({active:e(o)}),closable:!1,width:"min(100%, 450px)",centered:"",footer:null,"mask-closable":!1,"wrap-class-name":"nc-modal-shared-form-password-dlg",onClose:s[2]||(s[2]=i=>o.value=!1)},{default:a(()=>[d("div",le,[pe,r(V,{layout:"vertical","no-style":"",model:e(t),onFinish:e(u)},{default:a(()=>[r(P,{name:"password",rules:[{required:!0,message:p.$t("msg.error.signUpRules.passwdRequired")}]},{default:a(()=>[r(F,{value:e(t).password,"onUpdate:value":s[0]||(s[0]=i=>e(t).password=i),size:"large",placeholder:p.$t("msg.info.signUp.enterPassword")},null,8,["value","placeholder"])]),_:1},8,["rules"]),r(z,{name:"layout"},{default:a(()=>[e(w)?(m(),L("div",me,b(e(w)),1)):h("",!0)]),_:1}),d("button",de,b(p.$t("general.unlock")),1)]),_:1},8,["model","onFinish"])])]),_:1},8,["visible","class"])]),_:1})}}});const Ae=ne(_e,[["__scopeId","data-v-2cf7327d"]]);export{Ae as default};
