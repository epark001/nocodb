import{a as F}from"./EditOrAddProvider.vue.9fbafb18.js";import{R as w,h as g,T as V,i as L,o as p,C as S,w as r,b as s,cA as v,E as e,c as N,aj as y,cp as M,d as A,t as C,a as H,W as I}from"./entry.13466615.js";import{S as Y,_ as Z}from"./index.4385a501.js";import{_ as W}from"./FormItem.fe59dafe.js";import{_ as h}from"./index.89133b21.js";import{_ as b}from"./index.638acbb4.js";import"./Icon.vue.e15b8911.js";import"./Button.vue.a83cab3b.js";import"./index.f2e6837c.js";import"./debounce.dbc9bf77.js";import"./toNumber.7aa6a805.js";import"./isSymbol.b9109ae5.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./useBetaFeatureToggle.52c326cd.js";import"./index.5263eb1d.js";import"./index.2ae12d3e.js";import"./validation.5ed31fc1.js";import"./useMetas.223da623.js";import"./index.6f605a00.js";import"./useSize.dec45296.js";import"./identity.b813b76e.js";import"./_flatRest.037bf8e3.js";import"./isPlainObject.4c0f42f1.js";import"./_getPrototype.00be30f0.js";import"./FormItemContext.27b2e5db.js";import"./index.a8ef1b7e.js";import"./Input.16966097.js";import"./antInputDirective.8ac36ea7.js";import"./SearchOutlined.c1eed30a.js";import"./TextArea.1bd4034f.js";import"./Password.d7b16461.js";import"./index.2660048d.js";import"./Checkbox.65681aa3.js";import"./createForOfIteratorHelper.37be2624.js";import"./toArray.f6fa5a71.js";import"./isMobile.e2e89480.js";import"./useMemo.4991ab9d.js";import"./useMergedState.1cc2a884.js";import"./useState.a6853ebd.js";import"./DownOutlined.9cfe3e0c.js";import"./CheckOutlined.80115d65.js";import"./Col.23d910dc.js";import"./responsiveObserve.9209e727.js";const K=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CYP","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHC","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","ROL","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDD","SEK","SGD","SHP","SIT","SKK","SLL","SOS","SRD","STD","SYP","SZL","THB","TJS","TMM","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","USS","UYU","UZS","VEB","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XFO","XFU","XOF","XPD","XPF","XPT","XTS","XXX","YER","ZAR","ZMK","ZWD"];function x(n){return K.includes(n)}async function k(){const{all:n}=await w(()=>import("./currencyCodes.109aaa71.js"),[],import.meta.url);return n.filter(a=>T(a.tag)).map(a=>({text:`${a.name} (${a.tag})`,value:a.tag}))}function T(n){try{return Intl.NumberFormat.supportedLocalesOf(n).length>0}catch{return!1}}const J={class:"text-[#FB8C00]"},He=g({__name:"CurrencyOptions",props:{value:{}},emits:["update:value"],setup(n,{emit:a}){const c=V(n,"value",a),O={"meta.currency_locale":[{validator:(l,t)=>new Promise((i,u)=>{if(!T(t))return u(new Error("Invalid locale"));i()})}],"meta.currency_code":[{validator:(l,t)=>new Promise((i,u)=>{if(!x(t))return u(new Error("Invalid Currency Code"));i()})}]},{setAdditionalValidations:U,validateInfos:R,isPg:m}=F();U({...O});const X=K||[],B=[];k().then(l=>{B.push(...l)});const _=L(()=>c.value.dt==="money"),E=L(()=>_.value&&m.value?"PostgreSQL 'money' type has own currency settings":"");function P(l,t){return t.value.toUpperCase().includes(l.toUpperCase())}return c.value.meta={currency_locale:"en-US",currency_code:"USD",...c.value.meta},(l,t)=>{const i=Y,u=Z,f=W,d=h,G=b;return p(),S(G,{gutter:"8"},{default:r(()=>[s(d,{span:12},{default:r(()=>[s(f,v(e(R)["meta.currency_locale"],{label:"Currency Locale"}),{default:r(()=>[s(u,{value:e(c).meta.currency_locale,"onUpdate:value":t[0]||(t[0]=o=>e(c).meta.currency_locale=o),class:"w-52","show-search":"","filter-option":P,disabled:e(_)&&e(m),"dropdown-class-name":"nc-dropdown-currency-cell-locale"},{default:r(()=>[(p(),N(y,null,M(B,(o,D)=>s(i,{key:D,value:o.value},{default:r(()=>[A(C(o.text),1)]),_:2},1032,["value"])),64))]),_:1},8,["value","disabled"])]),_:1},16)]),_:1}),s(d,{span:12},{default:r(()=>[s(f,v(e(R)["meta.currency_code"],{label:"Currency Code"}),{default:r(()=>[s(u,{value:e(c).meta.currency_code,"onUpdate:value":t[1]||(t[1]=o=>e(c).meta.currency_code=o),class:"w-52","show-search":"","filter-option":P,disabled:e(_)&&e(m),"dropdown-class-name":"nc-dropdown-currency-cell-code"},{default:r(()=>[(p(!0),N(y,null,M(e(X),(o,D)=>(p(),S(i,{key:D,value:o},{default:r(()=>[A(C(o),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},16)]),_:1}),e(_)&&e(m)?(p(),S(d,{key:0},{default:r(()=>[H("span",J,C(e(E)),1)]),_:1})):I("",!0)]),_:1})}}});export{He as default};
