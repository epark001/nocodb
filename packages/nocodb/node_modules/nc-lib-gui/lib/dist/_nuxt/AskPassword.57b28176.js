import{_ as V}from"./Icon.vue.1162f18b.js";import{_ as y}from"./Button.vue.793bcd1d.js";import{_ as k}from"./Modal.vue.d8394846.js";import{h as b,T as B,c4 as C,r as N,o as M,C as R,w as e,a as n,b as s,d as p,E as t,H as S,I as z,J as E,K as F}from"./entry.51f4e399.js";import{u as I}from"./useSharedView.0db5f32b.js";import{F as P}from"./index.de92142d.js";import{_ as T}from"./Password.d493e47a.js";import{_ as U}from"./FormItem.cda40628.js";import"./index.0db47614.js";import"./debounce.7d32c110.js";import"./toNumber.9dc54e53.js";import"./isSymbol.b53bd26f.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./useMetas.ba7abae7.js";import"./index.5263eb1d.js";import"./useSize.3b3f469f.js";import"./identity.dd5da9ba.js";import"./_flatRest.ff2d3d5c.js";import"./isPlainObject.ecf52d25.js";import"./_getPrototype.ec1165af.js";import"./FormItemContext.e001cd7c.js";import"./Input.7cb175ff.js";import"./antInputDirective.8ac36ea7.js";import"./Col.88cfabc0.js";import"./responsiveObserve.501a6cf9.js";import"./toArray.06afb623.js";const $={class:"flex flex-row items-center gap-x-2"},q={class:"mt-2"},j={class:"flex flex-row justify-end gap-x-2 mt-6"},ue=b({__name:"AskPassword",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(c,{emit:d}){const o=B(c,"modelValue",d),_=C(),{loadSharedView:u}=I(),a=N({password:void 0}),l=async()=>{try{await u(_.params.viewId,a.value.password),o.value=!1}catch(i){console.error(i),E.error(await F(i))}};return(i,r)=>{const f=V,w=T,v=U,h=P,x=y,g=k;return M(),R(g,{visible:t(o),"onUpdate:visible":r[1]||(r[1]=m=>S(o)?o.value=m:null),c:"",size:"small",class:z({active:t(o)}),"mask-closable":!1},{header:e(()=>[n("div",$,[s(f,{icon:"key"}),p(" This shared view is protected ")])]),default:e(()=>[n("div",q,[s(h,{ref:"formRef",model:t(a),name:"create-new-table-form",onFinish:l},{default:e(()=>[s(v,{name:"password",rules:[{required:!0,message:"Password is required"}]},{default:e(()=>[s(w,{ref:"focus",value:t(a).password,"onUpdate:value":r[0]||(r[0]=m=>t(a).password=m),class:"nc-input-md","hide-details":"",size:"large",placeholder:"Enter password"},null,8,["value"])]),_:1})]),_:1},8,["model"]),n("div",j,[s(x,{type:"primary","html-type":"submit",onClick:l},{loading:e(()=>[p(" Verifying Password ")]),default:e(()=>[p("Unlock ")]),_:1})])])]),_:1},8,["visible","class"])}}});export{ue as default};
