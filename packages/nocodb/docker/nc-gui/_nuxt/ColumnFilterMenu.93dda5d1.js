import{u as B,_ as S}from"./ColumnFilter.ef938e7b.js";import{_ as $}from"./Dropdown.vue.be6ede75.js";import{d as j,A as D,b as M}from"./index.5263eb1d.js";import{o as i,c,a as u,h as N,$ as p,r as e,S as A,i as E,aq as z,cI as H,C as f,w as l,b as _,E as t,I as O,aV as T,t as v,W as h,H as U,L as q}from"./entry.13466615.js";import{u as G}from"./index.f13259f4.js";import{a as P}from"./useSmartsheetStore.9bdf3b91.js";import"./Select.vue.140b59a5.js";import"./Icon.vue.e15b8911.js";import"./index.4385a501.js";import"./toArray.f6fa5a71.js";import"./antInputDirective.8ac36ea7.js";import"./isMobile.e2e89480.js";import"./useMemo.4991ab9d.js";import"./useMergedState.1cc2a884.js";import"./useState.a6853ebd.js";import"./DownOutlined.9cfe3e0c.js";import"./CheckOutlined.80115d65.js";import"./SearchOutlined.c1eed30a.js";import"./FormItemContext.27b2e5db.js";import"./Button.vue.a83cab3b.js";import"./index.f2e6837c.js";import"./debounce.dbc9bf77.js";import"./toNumber.7aa6a805.js";import"./isSymbol.b9109ae5.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./FieldListAutoCompleteDropdown.vue.57a05762.js";import"./VirtualCellIcon.52ec82ec.js";import"./virtualCell.88c63e03.js";import"./CellIcon.8e3c7692.js";import"./cell.b6c2deed.js";import"./useMetas.223da623.js";import"./useViewColumns.21ea359e.js";import"./index.e7cf7635.js";import"./SingleSelect.8c9d295d.js";import"./index.a6329415.js";import"./index.a1080274.js";import"./MultiSelect.1f01b970.js";import"./DatePicker.c7f24add.js";import"./dayjs.cc1f81b7.js";import"./index.93e75123.js";import"./createForOfIteratorHelper.37be2624.js";import"./YearPicker.8eaafbb8.js";import"./TimePicker.c43bcf11.js";import"./Rating.vue.c0e16619.js";import"./useRefs.6ea70d5c.js";import"./Duration.58d5a3db.js";import"./durationUtils.4b78cf29.js";import"./Percent.vue.f5472f8e.js";import"./Currency.vue.a2ed9434.js";import"./Decimal.e1dfe729.js";import"./Integer.4b12f09e.js";import"./Float.f6e635fe.js";import"./Text.vue.7449c529.js";import"./index.2660048d.js";import"./Checkbox.65681aa3.js";import"./index.82f05b6c.js";import"./Dropdown.a78be736.js";import"./RightOutlined.2c092523.js";import"./views.3cd4bcb9.js";import"./useSharedView.746b4f21.js";import"./index.2a3da6a9.js";const R={class:"nc-icon",stroke:"currentColor",width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W=u("path",{d:"M14.6668 1H1.3335L6.66683 7.30667V11.6667L9.3335 13V7.30667L14.6668 1Z",stroke:"currentColor","stroke-width":"1.33333","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Z=[W];function J(b,d){return i(),c("svg",R,Z)}const K={name:"nc-icons-filter",render:J},Q={class:"flex items-center gap-2"},X={key:0,class:"text-capitalize !text-sm font-medium"},Y={key:1,class:"nc-count-badge"},ao=N({__name:"ColumnFilterMenu",setup(b){const d=p(j,e(!1)),s=p(D,e());p(M,e(!1));const{filterAutoSave:w,isMobileMode:k}=A(),g=e(),{nestedFilters:C}=P(),{nonDeletedFilters:x,loadFilters:y}=B(s,void 0,E(()=>!0),()=>!1,C.value,!0),r=e(0);z(()=>{var o;return(o=s==null?void 0:s.value)==null?void 0:o.id},async o=>{o&&(await y(),r.value=x.value.length||0)},{immediate:!0});const n=e(!1);return G(n),(o,a)=>{const I=q,L=S,F=$,V=H("e");return i(),f(F,{visible:t(n),"onUpdate:visible":a[1]||(a[1]=m=>U(n)?n.value=m:null),trigger:["click"],"overlay-class-name":"nc-dropdown-filter-menu nc-toolbar-dropdown"},{overlay:l(()=>[_(L,{ref_key:"filterComp",ref:g,class:"nc-table-toolbar-menu","auto-save":t(w),"data-testid":"nc-filter-menu","onUpdate:filtersLength":a[0]||(a[0]=m=>r.value=m)},null,8,["auto-save"])]),default:l(()=>[u("div",{class:O({"nc-active-btn":t(r)})},[T((i(),f(I,{class:"nc-filter-menu-btn nc-toolbar-btn txt-sm",disabled:t(d)},{default:l(()=>[u("div",Q,[_(t(K),{class:"h-4 w-4"}),t(k)?h("",!0):(i(),c("span",X,v(o.$t("activity.filter")),1)),t(r)?(i(),c("span",Y,v(t(r)),1)):h("",!0)])]),_:1},8,["disabled"])),[[V,["c:filter"]]])],2)]),_:1},8,["visible"])}}});export{ao as default};
